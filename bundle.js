var app=function(e){"use strict";function t(){}const n=e=>e;function s(e){return e()}function a(){return Object.create(null)}function o(e){e.forEach(s)}function i(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function l(e,t,n,s){if(e){const a=d(e,t,n,s);return e[0](a)}}function d(e,t,n,s){return e[1]&&s?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](s(t))):n.ctx}function u(e,t,n,s,a,o,i){const r=function(e,t,n,s){if(e[2]&&s){const a=e[2](s(n));if(void 0===t.dirty)return a;if("object"==typeof a){const e=[],n=Math.max(t.dirty.length,a.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|a[s];return e}return t.dirty|a}return t.dirty}(t,s,a,o);if(r){const a=d(t,n,s,i);e.p(a,r)}}const g="undefined"!=typeof window;let p=g?()=>window.performance.now():()=>Date.now(),m=g?e=>requestAnimationFrame(e):t;const f=new Set;function h(e){f.forEach((t=>{t.c(e)||(f.delete(t),t.f())})),0!==f.size&&m(h)}function w(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function $(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function B(){return C(" ")}function k(){return C("")}function x(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function O(e){return function(t){return t.preventDefault(),e.call(this,t)}}function S(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function I(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function j(e,t){e.value=null==t?"":t}function E(e,t,n,s){e.style.setProperty(t,n,s?"important":"")}function L(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}}function R(e,t,n){e.classList[n?"add":"remove"](t)}function T(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const M=new Set;let A,P=0;function N(e,t,n,s,a,o,i,r=0){const c=16.666/s;let l="{\n";for(let e=0;e<=1;e+=c){const s=t+(n-t)*o(e);l+=100*e+`%{${i(s,1-s)}}\n`}const d=l+`100% {${i(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${r}`,g=e.ownerDocument;M.add(g);const p=g.__svelte_stylesheet||(g.__svelte_stylesheet=g.head.appendChild(b("style")).sheet),m=g.__svelte_rules||(g.__svelte_rules={});m[u]||(m[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?f+", ":""}${u} ${s}ms linear ${a}ms 1 both`,P+=1,u}function D(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),a=n.length-s.length;a&&(e.style.animation=s.join(", "),P-=a,P||m((()=>{P||(M.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),M.clear())})))}function F(e){A=e}function G(){if(!A)throw new Error("Function called outside component initialization");return A}function H(){const e=G();return(t,n)=>{const s=e.$$.callbacks[t];if(s){const a=T(t,n);s.slice().forEach((t=>{t.call(e,a)}))}}}const z=[],U=[],q=[],W=[],V=Promise.resolve();let K=!1;function J(e){q.push(e)}function Y(e){W.push(e)}let Q=!1;const X=new Set;function Z(){if(!Q){Q=!0;do{for(let e=0;e<z.length;e+=1){const t=z[e];F(t),ee(t.$$)}for(F(null),z.length=0;U.length;)U.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];X.has(t)||(X.add(t),t())}q.length=0}while(z.length);for(;W.length;)W.pop()();K=!1,Q=!1,X.clear()}}function ee(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}let te;function ne(e,t,n){e.dispatchEvent(T(`${t?"intro":"outro"}${n}`))}const se=new Set;let ae;function oe(){ae={r:0,c:[],p:ae}}function ie(){ae.r||o(ae.c),ae=ae.p}function re(e,t){e&&e.i&&(se.delete(e),e.i(t))}function ce(e,t,n,s){if(e&&e.o){if(se.has(e))return;se.add(e),ae.c.push((()=>{se.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}const le={duration:0};function de(e,s,a,r){let c=s(e,a),l=r?0:1,d=null,u=null,g=null;function w(){g&&D(e,g)}function v(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function y(s){const{delay:a=0,duration:i=300,easing:r=n,tick:y=t,css:$}=c||le,b={start:p()+a,b:s};s||(b.group=ae,ae.r+=1),d||u?u=b:($&&(w(),g=N(e,l,s,i,a,r,$)),s&&y(0,1),d=v(b,i),J((()=>ne(e,s,"start"))),function(e){let t;0===f.size&&m(h),new Promise((n=>{f.add(t={c:e,f:n})}))}((t=>{if(u&&t>u.start&&(d=v(u,i),u=null,ne(e,d.b,"start"),$&&(w(),g=N(e,l,d.b,d.duration,0,r,c.css))),d)if(t>=d.end)y(l=d.b,1-l),ne(e,d.b,"end"),u||(d.b?w():--d.group.r||o(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;l=d.a+d.d*r(e/d.duration),y(l,1-l)}return!(!d&&!u)})))}return{run(e){i(c)?(te||(te=Promise.resolve(),te.then((()=>{te=null}))),te).then((()=>{c=c(),y(e)})):y(e)},end(){w(),d=u=null}}}function ue(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function ge(e){e&&e.c()}function pe(e,t,n){const{fragment:a,on_mount:r,on_destroy:c,after_update:l}=e.$$;a&&a.m(t,n),J((()=>{const t=r.map(s).filter(i);c?c.push(...t):o(t),e.$$.on_mount=[]})),l.forEach(J)}function me(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function fe(e,t){-1===e.$$.dirty[0]&&(z.push(e),K||(K=!0,V.then(Z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function he(e,n,s,i,r,c,l=[-1]){const d=A;F(e);const u=n.props||{},g=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:a(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:a(),dirty:l,skip_bound:!1};let p=!1;if(g.ctx=s?s(e,u,((t,n,...s)=>{const a=s.length?s[0]:n;return g.ctx&&r(g.ctx[t],g.ctx[t]=a)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](a),p&&fe(e,t)),n})):[],g.update(),p=!0,o(g.before_update),g.fragment=!!i&&i(g.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);g.fragment&&g.fragment.l(e),e.forEach(y)}else g.fragment&&g.fragment.c();n.intro&&re(e.$$.fragment),pe(e,n.target,n.anchor),Z()}F(d)}class we{$destroy(){me(this,1),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ve="en|en-GB|en-US",ye="es|es-ES|es-US",$e=[ve,ye];var be;!function(e){e.PINK="Pink",e.RED="Red",e.ORANGE="Orange",e.YELLOW="Yellow",e.PURPLE="Purple",e.BLUE="Blue",e.GREEN="Green",e.BROWN="Brown"}(be||(be={}));class Ce{constructor(){this.lightgrey="#dbdbdb",this.white="#ffffff",this.black="#000000"}}class Be extends Ce{constructor(){super(...arguments),this.id=be.PINK,this.mainBackgroundColor="#ec407a",this.darkBackgroundColor="#b4004e",this.lightBackgroundColor="#ff77a9",this.mainFontColor="black",this.darkFontColor="white",this.lightFontColor="black"}}class ke extends Ce{constructor(){super(...arguments),this.id=be.PURPLE,this.mainBackgroundColor="#ab47bc",this.darkBackgroundColor="#790e8b",this.lightBackgroundColor="#df78ef",this.mainFontColor="white",this.darkFontColor="white",this.lightFontColor="black"}}class xe extends Ce{constructor(){super(...arguments),this.id=be.BLUE,this.mainBackgroundColor="#42a5f5",this.darkBackgroundColor="#0077c2",this.lightBackgroundColor="#80d6ff",this.mainFontColor="black",this.darkFontColor="white",this.lightFontColor="black"}}class Oe extends Ce{constructor(){super(...arguments),this.id=be.GREEN,this.mainBackgroundColor="#66bb6a",this.darkBackgroundColor="#338a3e",this.lightBackgroundColor="#98ee99",this.mainFontColor="black",this.darkFontColor="black",this.lightFontColor="black"}}class Se extends Ce{constructor(){super(...arguments),this.id=be.YELLOW,this.mainBackgroundColor="#ffca28",this.darkBackgroundColor="#c79a00",this.lightBackgroundColor="#fffd61",this.mainFontColor="black",this.darkFontColor="black",this.lightFontColor="black"}}class Ie extends Ce{constructor(){super(...arguments),this.id=be.ORANGE,this.mainBackgroundColor="#ff7043",this.darkBackgroundColor="#c63f17",this.lightBackgroundColor="#ffa270",this.mainFontColor="black",this.darkFontColor="white",this.lightFontColor="black"}}class _e extends Ce{constructor(){super(...arguments),this.id=be.RED,this.mainBackgroundColor="#f44336",this.darkBackgroundColor="#ba000d",this.lightBackgroundColor="#ff7961",this.mainFontColor="black",this.darkFontColor="white",this.lightFontColor="black"}}class je extends Ce{constructor(){super(...arguments),this.id=be.BROWN,this.mainBackgroundColor="#8d6e63",this.darkBackgroundColor="#5f4339",this.lightBackgroundColor="#be9c91",this.mainFontColor="black",this.darkFontColor="white",this.lightFontColor="black"}}const Ee=[];class Le{constructor(e){const n=function(e){return function(e,n=t){let s;const a=[];function o(t){if(r(e,t)&&(e=t,s)){const t=!Ee.length;for(let t=0;t<a.length;t+=1){const n=a[t];n[1](),Ee.push(n,e)}if(t){for(let e=0;e<Ee.length;e+=2)Ee[e][0](Ee[e+1]);Ee.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,r=t){const c=[i,r];return a.push(c),1===a.length&&(s=n(o)||t),i(e),()=>{const e=a.indexOf(c);-1!==e&&a.splice(e,1),0===a.length&&(s(),s=null)}}}}(e)}(e);this.subscribe=n.subscribe,this.set=n.set,this.update=n.update}set(e){}update(e){}subscribe(e,t){}}const Re=window.navigator.language;let Te="es"===Re?"es-ES":"en"===Re?"en-GB":Re;Te=$e.find((e=>Te.match(e)))?Te:"en-GB";const Me=new class{constructor(e){this.initialConfiguration={isConfigurationOpen:!0,isCustomCategoriesOpen:!1,isMiniLetterActive:!1,colorThemeType:be.PINK,language:Te,shouldShowRewardScreen:!1},this.localStorage=e,this.hasConfiguration()||this.writeConfiguration(this.initialConfiguration)}writeConfiguration(e){this.localStorage.setItem("configuration",JSON.stringify(e))}getConfiguration(){return JSON.parse(this.localStorage.getItem("configuration"))}hasConfiguration(){return null!==this.localStorage.getItem("configuration")}}(window.localStorage);const Ae=new class extends Le{updateLanguage(e){this.update((t=>Object.assign(Object.assign({},t),{language:e})))}updateColorTheme(e){this.update((t=>Object.assign(Object.assign({},t),{colorThemeType:e})))}updateMiniLetter(e){this.update((t=>Object.assign(Object.assign({},t),{isMiniLetterActive:e})))}updateRewardScreen(e){this.update((t=>Object.assign(Object.assign({},t),{shouldShowRewardScreen:e})))}openConfiguration(){this.update((e=>Object.assign(Object.assign({},e),{isConfigurationOpen:!0,isCustomCategoriesOpen:!1})))}closeConfiguration(){this.update((e=>Object.assign(Object.assign({},e),{isConfigurationOpen:!1})))}openCustomCategories(){this.update((e=>Object.assign(Object.assign({},e),{isCustomCategoriesOpen:!0,isConfigurationOpen:!1})))}closeCustomCategories(){this.update((e=>Object.assign(Object.assign({},e),{isCustomCategoriesOpen:!1})))}closeConfigurationAndCustomCategories(){this.update((e=>Object.assign(Object.assign({},e),{isConfigurationOpen:!1,isCustomCategoriesOpen:!1})))}}(Me.getConfiguration()),Pe=[{language:ye,texts:{appName:"Letras",metaDescription:"Juego para aprender a user el teclado y la posicion de las teclas en el teclado. Perfecto para niños y mayores.",metaKeywords:"aprender, niño, niña, niños, niñas, mayores, senior, teclado, letras, tecla",language:"Idioma",color:"Color",showLowerCase:"Mostrar letras en minúscula",showRewardScreen:"Mostrar pantalla de recompensa",veryGood:"Muy Bien!",category:"Categoría",newCategory:"Nueva Categoría",name:"Nombre",newStage:"Nueva Palabra",repeatLetter:"Repetir letra",pressLetter:"Teclea la letra",theWordToWriteIs:"La palabra a escribir es",start:"Empezar!",letsStart:"Vamos a empezar!",backToMenu:"Volver al menu",close:"Cerrar",create:"Crear",uploadPhotoInfo:"Click para cargar foto",game:"Juego",myCategories:"Mis Categorias",settings:"Opciones"}},{language:ve,texts:{appName:"Letters",metaDescription:"Game for learning how to use the keyboard and the position of the keys in the keyboard. Perfect for kids and elder.",metaKeywords:"learn, kid, kids, elder, keyboard, letters, key",language:"Language",color:"Color",showLowerCase:"Show lower case letters",showRewardScreen:"Show reward screen",veryGood:"Very Good!",category:"Category",newCategory:"New Category",name:"Name",newStage:"New Word",repeatLetter:"Repeat letter",pressLetter:"Press the key",theWordToWriteIs:"The word to write is",start:"Start!",letsStart:"Lets start!",backToMenu:"Back to menu",close:"Close",create:"Create",uploadPhotoInfo:"Click to load photo",game:"Game",myCategories:"My Categories",settings:"Settings"}}];const Ne=new class extends Le{updateI18n(e){this.update((t=>e))}}(Pe.find((e=>Me.getConfiguration().language.match(e.language))));function De(e,t){return Object.entries(t).forEach((([t,n])=>{e.style.setProperty("--"+t,n)})),{update(n){Object.entries(n).forEach((([n,s])=>{e.style.setProperty("--"+n,s),delete t[n]})),Object.keys(t).forEach((t=>e.style.removeProperty("--"+t))),t=n}}}class Fe{addEventListener(e,t){this.listeners||(this.listeners=[]),e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}removeEventListener(e,t){if(!this.listeners||!(e in this.listeners))return;const n=this.listeners[e],s=n.length;for(let e=0;e<s;e++)if(n[e]===t)return void n.splice(e,1)}dispatchEvent(e,t){if(!this.listeners||!(e.type in this.listeners))return!0;const n=this.listeners[e.type].slice(),s=n.length;for(let a=0;a<s;a++)n[a].call(this,e,t);return!e.defaultPrevented}}const Ge=new class extends Fe{constructor(){super(),this.voices=[],this.speech=new SpeechSynthesisUtterance,window.speechSynthesis.addEventListener("voiceschanged",(()=>this.handleSpeechSynthesisVoices())),this.speech.volume=1}setVoice(e){this.speech.voice=this.voices.find((t=>t.lang.match(e)))||null}readOutLoud(e,t){null!==this.speech.onend&&(this.speech.onend=null),t&&(this.speech.onend=()=>{this.speech.onend=null,this.readOutLoud(t)}),this.speech.text=e,this.cancelReading(),window.speechSynthesis.speak(this.speech)}cancelReading(){window.speechSynthesis.cancel()}handleSpeechSynthesisVoices(){this.voices=window.speechSynthesis.getVoices().filter((e=>e.lang.match(/e[n|s]/))).sort((function(e,t){const n=e.name.toUpperCase(),s=t.name.toUpperCase();return n<s?-1:n===s?0:1})),this.dispatchEvent(new CustomEvent("onLoad"),this.voices)}};function He(e){let t,n;const s=e[1].default,a=l(s,e,e[0],null);return{c(){t=b("div"),a&&a.c(),I(t,"class","svelte-2rusoc")},m(e,s){v(e,t,s),a&&a.m(t,null),n=!0},p(e,[t]){a&&a.p&&1&t&&u(a,s,e,e[0],t,null,null)},i(e){n||(re(a,e),n=!0)},o(e){ce(a,e),n=!1},d(e){e&&y(t),a&&a.d(e)}}}function ze(e,t,n){let{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{"$$scope"in e&&n(0,a=e.$$scope)},[a,s]}class Ue extends we{constructor(e){super(),he(this,e,ze,He,r,{})}}function qe(e,t,n){const s=e.slice();return s[3]=t[n],s[5]=n,s}function We(e){let t,n,s,a,o=e[3]+"";return{c(){t=b("div"),n=b("div"),s=C(o),a=B(),I(n,"class","svelte-1wvt3yh"),R(n,"isMiniLetterActive",e[2]),I(t,"class","letter svelte-1wvt3yh"),R(t,"isActive",e[5]===e[1]),R(t,"isGuessed",e[5]<e[1])},m(e,o){v(e,t,o),w(t,n),w(n,s),w(t,a)},p(e,a){1&a&&o!==(o=e[3]+"")&&_(s,o),4&a&&R(n,"isMiniLetterActive",e[2]),2&a&&R(t,"isActive",e[5]===e[1]),2&a&&R(t,"isGuessed",e[5]<e[1])},d(e){e&&y(t)}}}function Ve(e){let n,s=e[0],a=[];for(let t=0;t<s.length;t+=1)a[t]=We(qe(e,s,t));return{c(){n=b("div");for(let e=0;e<a.length;e+=1)a[e].c();I(n,"class","word svelte-1wvt3yh")},m(e,t){v(e,n,t);for(let e=0;e<a.length;e+=1)a[e].m(n,null)},p(e,[t]){if(7&t){let o;for(s=e[0],o=0;o<s.length;o+=1){const i=qe(e,s,o);a[o]?a[o].p(i,t):(a[o]=We(i),a[o].c(),a[o].m(n,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=s.length}},i:t,o:t,d(e){e&&y(n),$(a,e)}}}function Ke(e,t,n){let{value:s="demo"}=t,{index:a=2}=t,{isMiniLetterActive:o=!1}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"index"in e&&n(1,a=e.index),"isMiniLetterActive"in e&&n(2,o=e.isMiniLetterActive)},[s,a,o]}class Je extends we{constructor(e){super(),he(this,e,Ke,Ve,r,{value:0,index:1,isMiniLetterActive:2})}}function Ye(e,t,n){const s=e.slice();return s[12]=t[n],s[14]=n,s}function Qe(e,t,n){const s=e.slice();return s[15]=t[n],s}function Xe(e){let t,n,s,a=e[15].name+"";return{c(){t=b("option"),n=C(a),t.__value=s=e[15].lang,t.value=t.__value,I(t,"class","svelte-pv1cn3")},m(e,s){v(e,t,s),w(t,n)},p(e,o){1&o&&a!==(a=e[15].name+"")&&_(n,a),1&o&&s!==(s=e[15].lang)&&(t.__value=s,t.value=t.__value)},d(e){e&&y(t)}}}function Ze(e){let t,n,s,a,o,i,r,c;return{c(){t=b("label"),n=b("input"),a=B(),I(n,"type","radio"),n.__value=s=e[12],n.value=n.__value,I(n,"class","svelte-pv1cn3"),e[8][0].push(n),I(t,"class",o="color "+e[12]+" "+(e[12]===e[2]?"active":"")+" svelte-pv1cn3"),I(t,"title",i=e[12])},m(s,o){v(s,t,o),w(t,n),n.checked=n.__value===e[2],w(t,a),r||(c=x(n,"change",e[7]),r=!0)},p(e,s){4&s&&(n.checked=n.__value===e[2]),4&s&&o!==(o="color "+e[12]+" "+(e[12]===e[2]?"active":"")+" svelte-pv1cn3")&&I(t,"class",o)},d(s){s&&y(t),e[8][0].splice(e[8][0].indexOf(n),1),r=!1,c()}}}function et(e){let t,n,s,a,i,r,c,l,d,u,g,p,m,f,h,k,O,S,j,E,R,T,M,A,P,N,D,F,G,H,z,U,q,W=e[5].texts.language+"",V=e[5].texts.color+"",K=e[5].texts.showLowerCase+"",Y=e[5].texts.showRewardScreen+"",Q=e[0],X=[];for(let t=0;t<Q.length;t+=1)X[t]=Xe(Qe(e,Q,t));let Z=Object.values(be),ee=[];for(let t=0;t<Z.length;t+=1)ee[t]=Ze(Ye(e,Z,t));return M=new Je({props:{isMiniLetterActive:e[3]}}),{c(){t=b("div"),n=b("label"),s=C(W),a=B(),i=b("div"),r=b("select");for(let e=0;e<X.length;e+=1)X[e].c();c=B(),l=b("div"),d=b("div"),u=b("label"),g=C(V),p=B(),m=b("div");for(let e=0;e<ee.length;e+=1)ee[e].c();f=B(),h=b("div"),k=b("div"),O=b("input"),S=B(),j=b("label"),E=C(K),R=B(),T=b("div"),ge(M.$$.fragment),A=B(),P=b("div"),N=b("div"),D=b("input"),F=B(),G=b("label"),H=C(Y),I(n,"for","voices"),I(n,"class","col-md-3 col-form-label"),I(r,"name","voices"),I(r,"id","voices"),I(r,"class","custom-select svelte-pv1cn3"),void 0===e[1]&&J((()=>e[6].call(r))),I(i,"class","col-md-9"),I(t,"class","form-group row"),I(u,"class","col-md-3 col-form-label"),I(d,"class","row"),I(m,"class","row colors svelte-pv1cn3"),I(l,"class","form-group"),I(O,"type","checkbox"),I(O,"class","custom-control-input"),I(O,"id","miniLetter"),I(j,"class","custom-control-label"),I(j,"for","miniLetter"),I(k,"class","custom-control custom-switch"),I(h,"class","form-group"),I(T,"class","form-group"),I(D,"type","checkbox"),I(D,"class","custom-control-input"),I(D,"id","rewardScreen"),I(G,"class","custom-control-label"),I(G,"for","rewardScreen"),I(N,"class","custom-control custom-switch"),I(P,"class","form-group")},m(o,y){v(o,t,y),w(t,n),w(n,s),w(t,a),w(t,i),w(i,r);for(let e=0;e<X.length;e+=1)X[e].m(r,null);L(r,e[1]),v(o,c,y),v(o,l,y),w(l,d),w(d,u),w(u,g),w(l,p),w(l,m);for(let e=0;e<ee.length;e+=1)ee[e].m(m,null);v(o,f,y),v(o,h,y),w(h,k),w(k,O),O.checked=e[3],w(k,S),w(k,j),w(j,E),v(o,R,y),v(o,T,y),pe(M,T,null),v(o,A,y),v(o,P,y),w(P,N),w(N,D),D.checked=e[4],w(N,F),w(N,G),w(G,H),z=!0,U||(q=[x(r,"change",e[6]),x(O,"change",e[9]),x(D,"change",e[10])],U=!0)},p(e,t){if((!z||32&t)&&W!==(W=e[5].texts.language+"")&&_(s,W),1&t){let n;for(Q=e[0],n=0;n<Q.length;n+=1){const s=Qe(e,Q,n);X[n]?X[n].p(s,t):(X[n]=Xe(s),X[n].c(),X[n].m(r,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=Q.length}if(3&t&&L(r,e[1]),(!z||32&t)&&V!==(V=e[5].texts.color+"")&&_(g,V),4&t){let n;for(Z=Object.values(be),n=0;n<Z.length;n+=1){const s=Ye(e,Z,n);ee[n]?ee[n].p(s,t):(ee[n]=Ze(s),ee[n].c(),ee[n].m(m,null))}for(;n<ee.length;n+=1)ee[n].d(1);ee.length=Z.length}8&t&&(O.checked=e[3]),(!z||32&t)&&K!==(K=e[5].texts.showLowerCase+"")&&_(E,K);const n={};8&t&&(n.isMiniLetterActive=e[3]),M.$set(n),16&t&&(D.checked=e[4]),(!z||32&t)&&Y!==(Y=e[5].texts.showRewardScreen+"")&&_(H,Y)},i(e){z||(re(M.$$.fragment,e),z=!0)},o(e){ce(M.$$.fragment,e),z=!1},d(e){e&&y(t),$(X,e),e&&y(c),e&&y(l),$(ee,e),e&&y(f),e&&y(h),e&&y(R),e&&y(T),me(M),e&&y(A),e&&y(P),U=!1,o(q)}}}function tt(e){let t,n;return t=new Ue({props:{$$slots:{default:[et]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,s){pe(t,e,s),n=!0},p(e,[n]){const s={};262207&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){me(t,e)}}}function nt(e,t,n){let s,a;c(e,Ae,(e=>n(11,s=e))),c(e,Ne,(e=>n(5,a=e)));let{voices:o}=t,i=s.language,r=s.colorThemeType,l=s.isMiniLetterActive,d=s.shouldShowRewardScreen;return e.$$set=e=>{"voices"in e&&n(0,o=e.voices)},e.$$.update=()=>{4&e.$$.dirty&&Ae.updateColorTheme(r),8&e.$$.dirty&&Ae.updateMiniLetter(l),16&e.$$.dirty&&Ae.updateRewardScreen(d),2&e.$$.dirty&&void 0!==i&&Ae.updateLanguage(i),2048&e.$$.dirty&&Ne.updateI18n(Pe.find((e=>s.language.match(e.language))))},[o,i,r,l,d,a,function(){i=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(1,i),n(0,o)},function(){r=this.__value,n(2,r)},[[]],function(){l=this.checked,n(3,l)},function(){d=this.checked,n(4,d)}]}class st extends we{constructor(e){super(),he(this,e,nt,tt,r,{voices:0})}}const at=new class extends Le{addCategories(e){this.set(e)}addCategory(e){this.update((t=>t.find((t=>t.id===e.id))?[...t]:[...t,e]))}removeCategory(e){this.update((t=>t.filter((t=>t.id!==e.id))))}updateCategory(e){this.update((t=>t.map((t=>t.id===e.id?e:t))))}}([]);const ot=new class extends Le{addStages(e){this.set(e)}addStage(e){this.update((t=>t.find((t=>t.id===e.id))?[...t]:[...t,e]))}removeStage(e){this.update((t=>t.filter((t=>t.id!==e.id))))}updateStage(e){this.update((t=>t.map((t=>t.id===e.id?e:t))))}removeStagesOfCategory(e){this.update((t=>t.filter((t=>t.categoryId!==e))))}}([]),it=[{language:ye,categories:[{id:-1,name:"Animales",imageBase64:"images/animals.webp"},{id:-2,name:"Cosas de casa",imageBase64:"images/house.jpeg"},{id:-3,name:"Partes del cuerpo",imageBase64:"images/body.png"},{id:-4,name:"Comida",imageBase64:"images/food.png"}],stages:[{id:-1,categoryId:-1,word:"ardilla",imageBase64:"images/words/squirrel.jpg"},{id:-1,categoryId:-1,word:"caballo",imageBase64:"images/words/horse-male.jpg"},{id:-1,categoryId:-1,word:"cebra",imageBase64:"images/words/zebra.jpg"},{id:-1,categoryId:-1,word:"ciervo",imageBase64:"images/words/deer.jpg"},{id:-1,categoryId:-1,word:"conejo",imageBase64:"images/words/rabbit.jpg"},{id:-1,categoryId:-1,word:"elefante",imageBase64:"images/words/elephant.jpg"},{id:-1,categoryId:-1,word:"gallina",imageBase64:"images/words/chicken.jpg"},{id:-1,categoryId:-1,word:"gato",imageBase64:"images/words/cat.jpg"},{id:-1,categoryId:-1,word:"lemur",imageBase64:"images/words/lemur.jpg"},{id:-1,categoryId:-1,word:"oso",imageBase64:"images/words/bear.jpg"},{id:-1,categoryId:-1,word:"panda",imageBase64:"images/words/panda.jpg"},{id:-1,categoryId:-1,word:"periquito",imageBase64:"images/words/parakeet.jpg"},{id:-1,categoryId:-1,word:"perro",imageBase64:"images/words/dog.jpg"},{id:-1,categoryId:-1,word:"tortuga",imageBase64:"images/words/turtle.jpg"},{id:-1,categoryId:-1,word:"vaca",imageBase64:"images/words/cow.jpg"},{id:-1,categoryId:-1,word:"yegua",imageBase64:"images/words/horse-female.jpg"},{id:-1,categoryId:-2,word:"cama",imageBase64:"images/words/bed.jpg"},{id:-1,categoryId:-2,word:"cuento",imageBase64:"images/words/book.jpg"},{id:-1,categoryId:-2,word:"botella",imageBase64:"images/words/bottle.jpg"},{id:-1,categoryId:-2,word:"silla",imageBase64:"images/words/chair.jpg"},{id:-1,categoryId:-2,word:"cuco",imageBase64:"images/words/cuckoo.jpg"},{id:-1,categoryId:-2,word:"taza",imageBase64:"images/words/cup.jpg"},{id:-1,categoryId:-2,word:"puerta",imageBase64:"images/words/door.jpg"},{id:-1,categoryId:-2,word:"biberon",imageBase64:"images/words/feeding-bottle.jpg"},{id:-1,categoryId:-2,word:"tenedor",imageBase64:"images/words/fork.jpg"},{id:-1,categoryId:-2,word:"jardin",imageBase64:"images/words/garden.jpg"},{id:-1,categoryId:-2,word:"vaso",imageBase64:"images/words/glass.jpg"},{id:-1,categoryId:-2,word:"gafas",imageBase64:"images/words/glasses.jpg"},{id:-1,categoryId:-2,word:"guantes",imageBase64:"images/words/gloves.jpg"},{id:-1,categoryId:-2,word:"peine",imageBase64:"images/words/hairbrush.jpg"},{id:-1,categoryId:-2,word:"mano",imageBase64:"images/words/hand.jpg"},{id:-1,categoryId:-2,word:"sombrero",imageBase64:"images/words/hat.jpg"},{id:-1,categoryId:-2,word:"cocina",imageBase64:"images/words/kitchen.jpg"},{id:-1,categoryId:-2,word:"cuchillo",imageBase64:"images/words/knife.jpg"},{id:-1,categoryId:-2,word:"sarten",imageBase64:"images/words/pan.jpg"},{id:-1,categoryId:-2,word:"lapizero",imageBase64:"images/words/pencil.jpg"},{id:-1,categoryId:-2,word:"piano",imageBase64:"images/words/piano.jpg"},{id:-1,categoryId:-2,word:"planta",imageBase64:"images/words/plant.jpg"},{id:-1,categoryId:-2,word:"plato",imageBase64:"images/words/plate.jpg"},{id:-1,categoryId:-2,word:"cazo",imageBase64:"images/words/saucepan.jpg"},{id:-1,categoryId:-2,word:"tijeras",imageBase64:"images/words/scissors.jpg"},{id:-1,categoryId:-2,word:"cucharita",imageBase64:"images/words/small-spoon.jpg"},{id:-1,categoryId:-2,word:"escaleras",imageBase64:"images/words/stairs.jpg"},{id:-1,categoryId:-2,word:"mesa",imageBase64:"images/words/table.jpg"},{id:-1,categoryId:-2,word:"cepillo",imageBase64:"images/words/toothbrush.jpg"},{id:-1,categoryId:-2,word:"pasta",imageBase64:"images/words/toothpaste.jpg"},{id:-1,categoryId:-2,word:"cocinita",imageBase64:"images/words/toy-kitchen.jpg"},{id:-1,categoryId:-2,word:"juguetes",imageBase64:"images/words/toys.jpg"},{id:-1,categoryId:-2,word:"arbol",imageBase64:"images/words/tree.jpg"},{id:-1,categoryId:-2,word:"paraguas",imageBase64:"images/words/umbrella.jpg"},{id:-1,categoryId:-2,word:"ventana",imageBase64:"images/words/window.jpg"},{id:-1,categoryId:-3,word:"brazo",imageBase64:"images/words/arm.jpg"},{id:-1,categoryId:-3,word:"oreja",imageBase64:"images/words/ear.jpg"},{id:-1,categoryId:-3,word:"ojo",imageBase64:"images/words/eye.jpg"},{id:-1,categoryId:-3,word:"pie",imageBase64:"images/words/foot.jpg"},{id:-1,categoryId:-3,word:"mano",imageBase64:"images/words/hand.jpg"},{id:-1,categoryId:-3,word:"piernas",imageBase64:"images/words/legs.jpg"},{id:-1,categoryId:-3,word:"nariz",imageBase64:"images/words/nose.jpg"},{id:-1,categoryId:-3,word:"dientes",imageBase64:"images/words/teeth.jpg"},{id:-1,categoryId:-4,word:"huevo",imageBase64:"images/words/eggs.png"},{id:-1,categoryId:-4,word:"garbanzos",imageBase64:"images/words/chickpeas.png"},{id:-1,categoryId:-4,word:"almendras",imageBase64:"images/words/almonds.png"},{id:-1,categoryId:-4,word:"pescado",imageBase64:"images/words/fish.png"},{id:-1,categoryId:-4,word:"aguacate",imageBase64:"images/words/avocado.png"},{id:-1,categoryId:-4,word:"platano",imageBase64:"images/words/banana.png"},{id:-1,categoryId:-4,word:"manzana",imageBase64:"images/words/apple.png"},{id:-1,categoryId:-4,word:"frambuesa",imageBase64:"images/words/raspberries.png"},{id:-1,categoryId:-4,word:"tomate",imageBase64:"images/words/tomatoes.png"},{id:-1,categoryId:-4,word:"fresa",imageBase64:"images/words/strawberries.png"},{id:-1,categoryId:-4,word:"cereales",imageBase64:"images/words/cereals.png"},{id:-1,categoryId:-4,word:"piña",imageBase64:"images/words/pineapple.png"},{id:-1,categoryId:-4,word:"guisantes",imageBase64:"images/words/pees.png"}]},{language:ve,categories:[{id:-1,name:"Animals",imageBase64:"images/animals.webp"}],stages:[{id:-1,categoryId:-1,word:"squirrel",imageBase64:"images/words/squirrel.jpg"}]}];function rt(e,t,n){const s=e.slice();return s[9]=t[n],s}function ct(e){let t,n,s,a,o,i,r,c,l,d,u,g,p,m,f,h,$=e[9].name+"";return{c(){t=b("div"),n=b("label"),s=b("div"),a=b("img"),r=B(),c=b("div"),l=b("h5"),d=C($),u=B(),g=b("input"),m=B(),a.src!==(o=e[9].imageBase64)&&I(a,"src",o),I(a,"class","card-img-top"),I(a,"alt",i=e[9].name),I(l,"class","card-title"),I(c,"class","card-body"),I(g,"type","radio"),I(g,"class","visibleButHidden"),g.__value=p=e[9],g.value=g.__value,e[4][0].push(g),I(s,"class","card"),E(n,"cursor","pointer"),I(t,"class","col mb-4")},m(o,i){v(o,t,i),w(t,n),w(n,s),w(s,a),w(s,r),w(s,c),w(c,l),w(l,d),w(s,u),w(s,g),g.checked=g.__value===e[0],w(t,m),f||(h=x(g,"change",e[3]),f=!0)},p(e,t){2&t&&a.src!==(o=e[9].imageBase64)&&I(a,"src",o),2&t&&i!==(i=e[9].name)&&I(a,"alt",i),2&t&&$!==($=e[9].name+"")&&_(d,$),2&t&&p!==(p=e[9])&&(g.__value=p,g.value=g.__value),1&t&&(g.checked=g.__value===e[0])},d(n){n&&y(t),e[4][0].splice(e[4][0].indexOf(g),1),f=!1,h()}}}function lt(e){let n,s=e[1],a=[];for(let t=0;t<s.length;t+=1)a[t]=ct(rt(e,s,t));return{c(){n=b("div");for(let e=0;e<a.length;e+=1)a[e].c();I(n,"class","row row-cols-1 row-cols-md-2")},m(e,t){v(e,n,t);for(let e=0;e<a.length;e+=1)a[e].m(n,null)},p(e,[t]){if(3&t){let o;for(s=e[1],o=0;o<s.length;o+=1){const i=rt(e,s,o);a[o]?a[o].p(i,t):(a[o]=ct(i),a[o].c(),a[o].m(n,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=s.length}},i:t,o:t,d(e){e&&y(n),$(a,e)}}}function dt(e,t,n){let s,a,o;c(e,Ae,(e=>n(6,s=e))),c(e,at,(e=>n(7,a=e))),c(e,ot,(e=>n(8,o=e)));let i,r,{stages:l}=t,d=[];return e.$$set=e=>{"stages"in e&&n(2,l=e.stages)},e.$$.update=()=>{64&e.$$.dirty&&n(5,r=it.find((e=>s.language.match(e.language)))),160&e.$$.dirty&&r&&n(1,d=[...a,...r.categories]),289&e.$$.dirty&&i&&n(2,l=[...r.stages.filter((e=>e.categoryId===i.id)),...o.filter((e=>e.categoryId===i.id))])},[i,d,l,function(){i=this.__value,n(0,i)},[[]]]}class ut extends we{constructor(e){super(),he(this,e,dt,lt,r,{stages:2})}}function gt(e){let n,s,a,o,i,r,c=e[0].texts.veryGood+"";return{c(){n=b("div"),s=b("h1"),a=C(c),o=B(),i=b("img"),I(i,"alt",e[1]),i.src!==(r=e[2])&&I(i,"src",r),I(i,"class","svelte-1tv8v50"),I(n,"class","rewardScreen svelte-1tv8v50")},m(e,t){v(e,n,t),w(n,s),w(s,a),w(n,o),w(n,i)},p(e,[t]){1&t&&c!==(c=e[0].texts.veryGood+"")&&_(a,c)},i:t,o:t,d(e){e&&y(n)}}}function pt(e,t,n){let s;c(e,Ne,(e=>n(0,s=e)));const{alt:a,src:o}=[{alt:"Heart 01",src:"images/rewards/heart01.png"},{alt:"Heart 02",src:"images/rewards/heart02.png"},{alt:"Heart 03",src:"images/rewards/heart03.png"},{alt:"Heart 04",src:"images/rewards/heart04.png"},{alt:"Heart 05",src:"images/rewards/heart05.png"}][Math.floor(5*Math.random())];return[s,a,o]}class mt extends we{constructor(e){super(),he(this,e,pt,gt,r,{})}}function ft(e){let t,n,s,a,i,r,c,l,d,u,g,p,m,f,h,$,k,O,S,j,L,R,T,M,A,P,N,D,F=e[6].texts.repeatLetter+"",G=e[6].texts.backToMenu+"";return i=new Je({props:{value:e[1][0].word,index:e[2],isMiniLetterActive:e[5].isMiniLetterActive}}),{c(){t=b("div"),n=b("input"),a=B(),ge(i.$$.fragment),r=B(),c=b("div"),l=b("img"),g=B(),p=b("div"),m=b("div"),f=b("div"),h=B(),$=b("span"),k=C(e[4]),O=C("/"),S=C(e[3]),j=B(),L=b("button"),R=C(F),T=B(),M=b("button"),A=C(G),I(n,"class","visibleButHidden"),n.autofocus=!0,I(n,"type","text"),n.value=s=e[5].isMiniLetterActive?"a":"",l.src!==(d=e[1][0].imageBase64)&&I(l,"src",d),I(l,"alt",u=e[1][0].word),I(l,"class","svelte-1sg618w"),I(c,"class","image svelte-1sg618w"),I(f,"class","progress-bar bg-primary"),I(f,"role","progressbar"),E(f,"width",(e[4]-1)/e[3]*100+"%"),I(f,"aria-valuemin","0"),I(f,"aria-valuemax","100"),I(m,"class","progress svelte-1sg618w"),I($,"class","pagination-numbers svelte-1sg618w"),I(p,"class","pagination svelte-1sg618w"),I(L,"class","btn btn-secondary btn-lg"),I(M,"class","btn btn-primary btn-lg")},m(s,o){v(s,t,o),w(t,n),w(t,a),pe(i,t,null),w(t,r),w(t,c),w(c,l),w(t,g),w(t,p),w(p,m),w(m,f),w(p,h),w(p,$),w($,k),w($,O),w($,S),w(t,j),w(t,L),w(L,R),w(t,T),w(t,M),w(M,A),P=!0,n.focus(),N||(D=[x(n,"input",e[7]),x(n,"blur",$t),x(L,"click",e[8]),x(M,"click",e[9])],N=!0)},p(e,t){(!P||32&t&&s!==(s=e[5].isMiniLetterActive?"a":"")&&n.value!==s)&&(n.value=s);const a={};2&t&&(a.value=e[1][0].word),4&t&&(a.index=e[2]),32&t&&(a.isMiniLetterActive=e[5].isMiniLetterActive),i.$set(a),(!P||2&t&&l.src!==(d=e[1][0].imageBase64))&&I(l,"src",d),(!P||2&t&&u!==(u=e[1][0].word))&&I(l,"alt",u),(!P||24&t)&&E(f,"width",(e[4]-1)/e[3]*100+"%"),(!P||16&t)&&_(k,e[4]),(!P||8&t)&&_(S,e[3]),(!P||64&t)&&F!==(F=e[6].texts.repeatLetter+"")&&_(R,F),(!P||64&t)&&G!==(G=e[6].texts.backToMenu+"")&&_(A,G)},i(e){P||(re(i.$$.fragment,e),P=!0)},o(e){ce(i.$$.fragment,e),P=!1},d(e){e&&y(t),me(i),N=!1,o(D)}}}function ht(e){let n,s;return n=new mt({}),{c(){ge(n.$$.fragment)},m(e,t){pe(n,e,t),s=!0},p:t,i(e){s||(re(n.$$.fragment,e),s=!0)},o(e){ce(n.$$.fragment,e),s=!1},d(e){me(n,e)}}}function wt(e){let t,n,s;function a(t){e[10].call(null,t)}let o={};return void 0!==e[1]&&(o.stages=e[1]),t=new ut({props:o}),U.push((()=>ue(t,"stages",a))),{c(){ge(t.$$.fragment)},m(e,n){pe(t,e,n),s=!0},p(e,s){const a={};!n&&2&s&&(n=!0,a.stages=e[1],Y((()=>n=!1))),t.$set(a)},i(e){s||(re(t.$$.fragment,e),s=!0)},o(e){ce(t.$$.fragment,e),s=!1},d(e){me(t,e)}}}function vt(e){let t,n,s,a;const o=[wt,ht,ft],i=[];function r(e,t){return 0===e[1].length?0:e[0]?1:2}return t=r(e),n=i[t]=o[t](e),{c(){n.c(),s=k()},m(e,n){i[t].m(e,n),v(e,s,n),a=!0},p(e,a){let c=t;t=r(e),t===c?i[t].p(e,a):(oe(),ce(i[c],1,1,(()=>{i[c]=null})),ie(),n=i[t],n||(n=i[t]=o[t](e),n.c()),re(n,1),n.m(s.parentNode,s))},i(e){a||(re(n),a=!0)},o(e){ce(n),a=!1},d(e){i[t].d(e),e&&y(s)}}}function yt(e){let t,n;return t=new Ue({props:{$$slots:{default:[vt]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,s){pe(t,e,s),n=!0},p(e,[n]){const s={};131199&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){me(t,e)}}}const $t=function(){this.focus()};function bt(e,t,n){let s,a;c(e,Ae,(e=>n(5,s=e))),c(e,Ne,(e=>n(6,a=e)));var o=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(a,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function r(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}c((s=s.apply(e,t||[])).next())}))};let i=!1,r=[],l=0,d=s.language,u=!0,g=0,p=0;function m(){const e=r[0].word[l];void 0!==e&&Ge.readOutLoud(`${a.texts.pressLetter} ${e}`)}function f(){Ge.cancelReading(),n(11,d=s.language),n(2,l=0),n(1,r=[]),n(12,u=!0),n(3,g=0),n(4,p=0)}return e.$$.update=()=>{4098&e.$$.dirty&&(r.length>0&&u?(n(12,u=!1),n(3,g=r.length),n(4,p=1)):r.length>0&&function(){const e=r[0].word,t=r[0].word[l];void 0!==e&&void 0!==t&&Ge.readOutLoud(`${a.texts.theWordToWriteIs} ${e}`,`${a.texts.pressLetter} ${t}`)}()),2080&e.$$.dirty&&s.language!==d&&f()},[i,r,l,g,p,s,a,function(e){return o(this,void 0,void 0,(function*(){if(!e.data&&!e.data.length)return;const t=e.data[e.data.length-1];if(!t)return;const a=r[0].word;e.srcElement.value=s.isMiniLetterActive?"a":"",s.isConfigurationOpen||t.toLowerCase()===a[l].toLowerCase()&&(n(2,++l)===a.length?(s.shouldShowRewardScreen&&(yield function(e){return o(this,void 0,void 0,(function*(){Ge.cancelReading(),n(0,i=!0),yield new Promise((t=>setTimeout((()=>{n(0,i=!1),t()}),e)))}))}(1500)),n(2,l=0),n(1,r=[...r.splice(1,r.length)]),n(4,p++,p),0===r.length&&f()):m())}))},m,f,function(e){r=e,n(1,r)}]}class Ct extends we{constructor(e){super(),he(this,e,bt,yt,r,{})}}class Bt{static convert(e){return new Promise(((t,n)=>{const s=document.createElement("canvas"),a=s.getContext("2d"),o=new FileReader;o.onload=e=>{const n=new Image;n.addEventListener("load",(()=>{let e=1;n.width>n.height?(e=n.width>500?n.width/500:1,n.height/e>300&&(e=n.height/300)):(e=n.height>300?n.height/300:e,n.width/e>500&&(e=n.width/500));const o=n.width/e,i=n.height/e;let r;s.width=o,s.height=i,a.clearRect(0,0,0,0),Bt.drawImageProperly(a,n,0,0,o,i),r=a.getImageData(0,0,o,i);const c=a.globalCompositeOperation;a.globalCompositeOperation="destination-over",a.fillStyle="#ffffff",a.fillRect(0,0,o,i);const l=s.toDataURL("image/jpeg",.2);a.clearRect(0,0,o,i),a.putImageData(r,0,0),a.globalCompositeOperation=c,a.clearRect(0,0,0,0),t(l)})),n.src=e.target.result},o.onerror=e=>n(e),o.readAsDataURL(e)}))}static drawImageProperly(e,t,n,s,a,o,i,r){2===arguments.length&&(n=s=0,a=e.canvas.width,o=e.canvas.height),(i="number"==typeof i?i:.5)<0&&(i=0),(r="number"==typeof r?r:.5)<0&&(r=0),i>1&&(i=1),r>1&&(r=1);var c,l,d,u,g=t.width,p=t.height,m=Math.min(a/g,o/p),f=g*m,h=p*m,w=1;f<a&&(w=a/f),Math.abs(w-1)<1e-14&&h<o&&(w=o/h),(c=(g-(d=g/((f*=w)/a)))*i)<0&&(c=0),(l=(p-(u=p/((h*=w)/o)))*r)<0&&(l=0),d>g&&(d=g),u>p&&(u=p),e.drawImage(t,c,l,d,u,n,s,a,o)}}const kt=new class extends Fe{constructor(){super(),this.DB_NAME="palabras",this.DB_VERSION=1,this.DB_STORE_CATEGORIES="categories",this.DB_STORE_STAGES="stages",this.indexedDB=window.indexedDB,this.request=this.indexedDB.open(this.DB_NAME,this.DB_VERSION),this.request.onsuccess=()=>{this.db=this.request.result,this.dispatchEvent(new CustomEvent("onOpen"))},this.request.onupgradeneeded=e=>{const t=e.currentTarget.result.createObjectStore(this.DB_STORE_CATEGORIES,{keyPath:"id",autoIncrement:!0});t.createIndex("name","name",{unique:!0}),t.createIndex("imageBase64","imageBase64");const n=e.currentTarget.result.createObjectStore(this.DB_STORE_STAGES,{keyPath:"id",autoIncrement:!0});n.createIndex("categoryId","categoryId"),n.createIndex("name","name"),n.createIndex("imageBase64","imageBase64")}}async getCategories(){return new Promise(((e,t)=>{const n=this.getObjectStore(this.DB_STORE_CATEGORIES).getAll();n.onsuccess=()=>e(n.result),n.onerror=e=>t(e)}))}async addCategory(e,t){return new Promise(((n,s)=>{const a=this.getObjectStore(this.DB_STORE_CATEGORIES,"readwrite").add({name:e,imageBase64:t});a.onsuccess=()=>n(a.result),a.onerror=e=>s(e)}))}async removeCategory(e){return await this.removeStagesOfCategory(e)?new Promise(((t,n)=>{const s=this.getObjectStore(this.DB_STORE_CATEGORIES,"readwrite").delete(e);s.onsuccess=()=>t(!0),s.onerror=e=>n(!1)})):Promise.reject(!1)}async updateCategory(e){return new Promise(((t,n)=>{const s=this.getObjectStore(this.DB_STORE_CATEGORIES,"readwrite").put(e);s.onsuccess=()=>t(s.result),s.onerror=e=>n(e)}))}async getStages(){return new Promise(((e,t)=>{const n=this.getObjectStore(this.DB_STORE_STAGES).getAll();n.onsuccess=()=>e(n.result),n.onerror=e=>t(e)}))}async addStage(e,t,n){return new Promise(((s,a)=>{const o=this.getObjectStore(this.DB_STORE_STAGES,"readwrite").add({word:e,imageBase64:t,categoryId:n});o.onsuccess=()=>s(o.result),o.onerror=e=>a(e)}))}async removeStage(e){return new Promise(((t,n)=>{const s=this.getObjectStore(this.DB_STORE_STAGES,"readwrite").delete(e);s.onsuccess=()=>t(!0),s.onerror=e=>n(!1)}))}async updateStage(e){return new Promise(((t,n)=>{const s=this.getObjectStore(this.DB_STORE_STAGES,"readwrite").put(e);s.onsuccess=()=>t(!0),s.onerror=e=>n(!1)}))}async removeStagesOfCategory(e){const t=(await this.getStages()).filter((t=>t.categoryId===e)).map((e=>this.removeStage(e.id)));return Promise.all(t)}getObjectStore(e,t="readonly"){if(!this.db)throw new Error("IndexedDB not initialized");return this.db.transaction(e,t).objectStore(e)}};async function xt(e,t){const n=await kt.addCategory(e,t);return at.addCategory({id:n,name:e,imageBase64:t}),n}async function Ot(e,t,n){const s=await kt.addStage(e,t,n);return ot.addStage({id:s,word:e,imageBase64:t,categoryId:n}),s}function St(e){let t,n,s;return{c(){t=b("img"),t.src!==(n=e[0].imageBase64)&&I(t,"src",n),I(t,"alt",s=e[0].word),I(t,"class","thumbnail")},m(e,n){v(e,t,n)},p(e,a){1&a&&t.src!==(n=e[0].imageBase64)&&I(t,"src",n),1&a&&s!==(s=e[0].word)&&I(t,"alt",s)},d(e){e&&y(t)}}}function It(e){let t,n,s,a,o,i,r;return{c(){t=b("label"),n=b("img"),a=B(),o=b("input"),n.src!==(s=e[0].imageBase64)&&I(n,"src",s),I(n,"class","thumbnail"),I(o,"class","visibleButHidden"),I(o,"type","file"),I(o,"accept","image/*")},m(s,c){v(s,t,c),w(t,n),w(t,a),w(t,o),i||(r=x(o,"change",e[7]),i=!0)},p(e,t){1&t&&n.src!==(s=e[0].imageBase64)&&I(n,"src",s)},d(e){e&&y(t),i=!1,r()}}}function _t(e){let n,s,a;return{c(){n=b("span"),n.innerHTML='<i class="far fa-edit"></i>'},m(t,o){v(t,n,o),s||(a=x(n,"click",e[5]),s=!0)},p:t,d(e){e&&y(n),s=!1,a()}}}function jt(e){let n,s,a,i,r,c,l;return{c(){n=b("span"),n.innerHTML='<i class="far fa-trash-alt"></i>',s=B(),a=b("span"),a.innerHTML='<i class="fas fa-times"></i>',i=B(),r=b("span"),r.innerHTML='<i class="fas fa-check"></i>',I(a,"class","action"),I(r,"class","action")},m(t,o){v(t,n,o),v(t,s,o),v(t,a,o),v(t,i,o),v(t,r,o),c||(l=[x(n,"click",e[3]),x(a,"click",e[6]),x(r,"click",e[4])],c=!0)},p:t,d(e){e&&y(n),e&&y(s),e&&y(a),e&&y(i),e&&y(r),c=!1,o(l)}}}function Et(e){let n,s,a,o,i,r,c,l,d;function u(e,t){return e[1]?It:St}let g=u(e),p=g(e);function m(e,t){return e[1]?jt:_t}let f=m(e),h=f(e);return{c(){n=b("li"),p.c(),s=B(),a=b("input"),r=B(),c=b("div"),h.c(),a.readOnly=o=e[1]?"":"readonly",I(a,"class","form-control form-control-lg"),I(a,"type","text"),I(a,"placeholder",i=e[0].word),I(c,"class","cta"),I(n,"class","list-group-item")},m(t,o){v(t,n,o),p.m(n,null),w(n,s),w(n,a),j(a,e[0].word),w(n,r),w(n,c),h.m(c,null),l||(d=x(a,"input",e[8]),l=!0)},p(e,[t]){g===(g=u(e))&&p?p.p(e,t):(p.d(1),p=g(e),p&&(p.c(),p.m(n,s))),2&t&&o!==(o=e[1]?"":"readonly")&&(a.readOnly=o),1&t&&i!==(i=e[0].word)&&I(a,"placeholder",i),1&t&&a.value!==e[0].word&&j(a,e[0].word),f===(f=m(e))&&h?h.p(e,t):(h.d(1),h=f(e),h&&(h.c(),h.m(c,null)))},i:t,o:t,d(e){e&&y(n),p.d(),h.d(),l=!1,d()}}}function Lt(e,t,n){var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(a,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function r(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}c((s=s.apply(e,t||[])).next())}))};let a,o,i,{stage:r}=t,c=!1;return e.$$set=e=>{"stage"in e&&n(0,r=e.stage)},e.$$.update=()=>{4&e.$$.dirty&&function(){s(this,void 0,void 0,(function*(){i&&i[0]&&i[0].type.includes("image")&&n(0,r.imageBase64=yield Bt.convert(i[0]),r)}))}()},[r,c,i,function(){return s(this,void 0,void 0,(function*(){yield async function(e){return!!await kt.removeStage(e.id)&&(ot.removeStage(e),!0)}(r)}))},function(){return s(this,void 0,void 0,(function*(){(yield async function(e){return!!await kt.updateStage(e)&&(ot.updateStage(e),!0)}(r))&&n(1,c=!1)}))},function(){a=r.word,o=r.imageBase64,n(1,c=!0)},function(){n(0,r.word=a,r),n(0,r.imageBase64=o,r),n(1,c=!1)},function(){i=this.files,n(2,i)},function(){r.word=this.value,n(0,r),n(11,s),n(2,i)}]}class Rt extends we{constructor(e){super(),he(this,e,Lt,Et,r,{stage:0})}}function Tt(e,t,n){const s=e.slice();return s[25]=t[n],s[26]=t,s[27]=n,s}function Mt(e){let t,n,s;return{c(){t=b("img"),t.src!==(n=e[0].imageBase64)&&I(t,"src",n),I(t,"alt",s=e[0].name),I(t,"class","thumbnail")},m(e,n){v(e,t,n)},p(e,a){1&a&&t.src!==(n=e[0].imageBase64)&&I(t,"src",n),1&a&&s!==(s=e[0].name)&&I(t,"alt",s)},d(e){e&&y(t)}}}function At(e){let t,n,s,a,i,r,c;return{c(){t=b("label"),n=b("img"),a=B(),i=b("input"),n.src!==(s=e[0].imageBase64)&&I(n,"src",s),I(n,"class","thumbnail"),I(i,"class","visibleButHidden"),I(i,"type","file"),I(i,"accept","image/*")},m(s,o){v(s,t,o),w(t,n),w(t,a),w(t,i),r||(c=[x(i,"change",e[15]),x(t,"click",S(e[14]))],r=!0)},p(e,t){1&t&&n.src!==(s=e[0].imageBase64)&&I(n,"src",s)},d(e){e&&y(t),r=!1,o(c)}}}function Pt(e){let n,s,a;return{c(){n=b("span"),n.innerHTML='<i class="far fa-edit"></i>'},m(t,o){v(t,n,o),s||(a=x(n,"click",S(e[12])),s=!0)},p:t,d(e){e&&y(n),s=!1,a()}}}function Nt(e){let n,s,a,i,r,c,l;return{c(){n=b("span"),n.innerHTML='<i class="far fa-trash-alt"></i>',s=B(),a=b("span"),a.innerHTML='<i class="fas fa-times"></i>',i=B(),r=b("span"),r.innerHTML='<i class="fas fa-check"></i>',I(n,"class","action"),I(a,"class","action"),I(r,"class","action")},m(t,o){v(t,n,o),v(t,s,o),v(t,a,o),v(t,i,o),v(t,r,o),c||(l=[x(n,"click",S(e[9])),x(a,"click",S(e[13])),x(r,"click",S(e[10]))],c=!0)},p:t,d(e){e&&y(n),e&&y(s),e&&y(a),e&&y(i),e&&y(r),c=!1,o(l)}}}function Dt(e){let t,n,s;function a(t){e[20].call(null,t,e[25],e[26],e[27])}let o={};return void 0!==e[25]&&(o.stage=e[25]),t=new Rt({props:o}),U.push((()=>ue(t,"stage",a))),{c(){ge(t.$$.fragment)},m(e,n){pe(t,e,n),s=!0},p(s,a){e=s;const o={};!n&&2&a&&(n=!0,o.stage=e[25],Y((()=>n=!1))),t.$set(o)},i(e){s||(re(t.$$.fragment,e),s=!0)},o(e){ce(t.$$.fragment,e),s=!1},d(e){me(t,e)}}}function Ft(e){let t,n,s,a,i,r,c,l,d,u,g,p,m,f,h,C,k,O,S,_,E,L,T,M,A,P,N,D,F,G,H;function z(e,t){return e[6]?At:Mt}let U=z(e),q=U(e);function W(e,t){return e[6]?Nt:Pt}let V=W(e),K=V(e),J=e[1],Y=[];for(let t=0;t<J.length;t+=1)Y[t]=Dt(Tt(e,J,t));const Q=e=>ce(Y[e],1,1,(()=>{Y[e]=null}));return{c(){t=b("div"),n=b("h5"),q.c(),s=B(),a=b("input"),c=B(),l=b("div"),K.c(),p=B(),m=b("ul"),f=b("li"),h=b("label"),C=b("img"),O=B(),S=b("input"),_=B(),E=b("input"),T=B(),M=b("div"),A=b("span"),A.innerHTML='<i class="fas fa-check"></i>',P=B();for(let e=0;e<Y.length;e+=1)Y[e].c();a.autofocus=i=e[6]?"autofocus":"",a.readOnly=r=e[6]?"":"readonly",I(a,"class","form-control form-control-lg svelte-1tp6b1d"),I(a,"type","text"),I(l,"class","cta"),I(n,"id",d="category-card-"+e[0].id),I(n,"class","card-header card-title svelte-1tp6b1d"),I(n,"data-toggle","collapse"),I(n,"data-target",u="#collapse-"+e[0].id),I(n,"aria-controls",g="collapse-"+e[0].id),C.src!==(k=e[3]?e[3]:"/images/upload-image.svg")&&I(C,"src",k),I(C,"class","thumbnail"),I(S,"class","visibleButHidden"),I(S,"type","file"),I(S,"accept","image/*"),I(E,"class","form-control form-control-lg svelte-1tp6b1d"),I(E,"type","text"),I(E,"placeholder",L=e[8].texts.newStage),R(E,"is-invalid",e[7]),I(M,"class","cta"),I(f,"class","list-group-item"),I(m,"id",N="collapse-"+e[0].id),I(m,"class","collapse list-group list-group-flush"),I(m,"aria-labelledby",D="category-card-"+e[0].id),I(m,"data-parent","#categoriesAccordion"),I(t,"class","card")},m(o,i){v(o,t,i),w(t,n),q.m(n,null),w(n,s),w(n,a),j(a,e[0].name),w(n,c),w(n,l),K.m(l,null),w(t,p),w(t,m),w(m,f),w(f,h),w(h,C),w(h,O),w(h,S),w(f,_),w(f,E),j(E,e[2]),w(f,T),w(f,M),w(M,A),w(m,P);for(let e=0;e<Y.length;e+=1)Y[e].m(m,null);F=!0,G||(H=[x(a,"click",e[16]),x(a,"input",e[17]),x(S,"change",e[18]),x(E,"input",e[19]),x(A,"click",e[11])],G=!0)},p(e,[t]){if(U===(U=z(e))&&q?q.p(e,t):(q.d(1),q=U(e),q&&(q.c(),q.m(n,s))),(!F||64&t&&i!==(i=e[6]?"autofocus":""))&&(a.autofocus=i),(!F||64&t&&r!==(r=e[6]?"":"readonly"))&&(a.readOnly=r),1&t&&a.value!==e[0].name&&j(a,e[0].name),V===(V=W(e))&&K?K.p(e,t):(K.d(1),K=V(e),K&&(K.c(),K.m(l,null))),(!F||1&t&&d!==(d="category-card-"+e[0].id))&&I(n,"id",d),(!F||1&t&&u!==(u="#collapse-"+e[0].id))&&I(n,"data-target",u),(!F||1&t&&g!==(g="collapse-"+e[0].id))&&I(n,"aria-controls",g),(!F||8&t&&C.src!==(k=e[3]?e[3]:"/images/upload-image.svg"))&&I(C,"src",k),(!F||256&t&&L!==(L=e[8].texts.newStage))&&I(E,"placeholder",L),4&t&&E.value!==e[2]&&j(E,e[2]),128&t&&R(E,"is-invalid",e[7]),2&t){let n;for(J=e[1],n=0;n<J.length;n+=1){const s=Tt(e,J,n);Y[n]?(Y[n].p(s,t),re(Y[n],1)):(Y[n]=Dt(s),Y[n].c(),re(Y[n],1),Y[n].m(m,null))}for(oe(),n=J.length;n<Y.length;n+=1)Q(n);ie()}(!F||1&t&&N!==(N="collapse-"+e[0].id))&&I(m,"id",N),(!F||1&t&&D!==(D="category-card-"+e[0].id))&&I(m,"aria-labelledby",D)},i(e){if(!F){for(let e=0;e<J.length;e+=1)re(Y[e]);F=!0}},o(e){Y=Y.filter(Boolean);for(let e=0;e<Y.length;e+=1)ce(Y[e]);F=!1},d(e){e&&y(t),q.d(),K.d(),$(Y,e),G=!1,o(H)}}}function Gt(e,t,n){let s,a;c(e,ot,(e=>n(23,s=e))),c(e,Ne,(e=>n(8,a=e)));var o=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(a,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function r(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}c((s=s.apply(e,t||[])).next())}))};let i,r,l,d,u,g,p,{category:m}=t,f=!1,h=!1;return e.$$set=e=>{"category"in e&&n(0,m=e.category)},e.$$.update=()=>{32&e.$$.dirty&&function(){o(this,void 0,void 0,(function*(){u&&u[0]&&u[0].type.includes("image")&&n(0,m.imageBase64=yield Bt.convert(u[0]),m)}))}(),8388609&e.$$.dirty&&n(1,i=s.filter((e=>e.categoryId===m.id))),16&e.$$.dirty&&function(){o(this,void 0,void 0,(function*(){d&&d[0]&&d[0].type.includes("image")&&n(3,l=yield Bt.convert(d[0]))}))}()},[m,i,r,l,d,u,f,h,a,function(){return o(this,void 0,void 0,(function*(){yield async function(e){return!!await kt.removeCategory(e.id)&&(ot.removeStagesOfCategory(e.id),at.removeCategory(e),!0)}(m)}))},function(){return o(this,void 0,void 0,(function*(){(yield async function(e){return!!await kt.updateCategory(e)&&(at.updateCategory(e),!0)}(m))&&n(6,f=!1)}))},function(){return o(this,void 0,void 0,(function*(){void 0!==r&&""!==r&&l?(yield Ot(r,l,m.id))&&(n(2,r=""),n(4,d=void 0),n(3,l=void 0),n(7,h=!1)):n(7,h=!0)}))},function(){g=m.name,p=m.imageBase64,n(6,f=!0)},function(){n(0,m.name=g,m),n(0,m.imageBase64=p,m),n(6,f=!1)},function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}(e,t)},function(){u=this.files,n(5,u)},e=>f?e.stopPropagation():"",function(){m.name=this.value,n(0,m),n(24,o),n(5,u)},function(){d=this.files,n(4,d)},function(){r=this.value,n(2,r)},function(e,t,a,r){a[r]=e,n(1,i),n(23,s),n(0,m),n(24,o),n(5,u)}]}class Ht extends we{constructor(e){super(),he(this,e,Gt,Ft,r,{category:0})}}function zt(e,t,n){const s=e.slice();return s[2]=t[n],s[3]=t,s[4]=n,s}function Ut(e){let t,n,s;function a(t){e[1].call(null,t,e[2],e[3],e[4])}let o={};return void 0!==e[2]&&(o.category=e[2]),t=new Ht({props:o}),U.push((()=>ue(t,"category",a))),{c(){ge(t.$$.fragment)},m(e,n){pe(t,e,n),s=!0},p(s,a){e=s;const o={};!n&&1&a&&(n=!0,o.category=e[2],Y((()=>n=!1))),t.$set(o)},i(e){s||(re(t.$$.fragment,e),s=!0)},o(e){ce(t.$$.fragment,e),s=!1},d(e){me(t,e)}}}function qt(e){let t,n,s=e[0],a=[];for(let t=0;t<s.length;t+=1)a[t]=Ut(zt(e,s,t));const o=e=>ce(a[e],1,1,(()=>{a[e]=null}));return{c(){t=b("div");for(let e=0;e<a.length;e+=1)a[e].c();I(t,"class","accordion"),I(t,"id","categoriesAccordion")},m(e,s){v(e,t,s);for(let e=0;e<a.length;e+=1)a[e].m(t,null);n=!0},p(e,[n]){if(1&n){let i;for(s=e[0],i=0;i<s.length;i+=1){const o=zt(e,s,i);a[i]?(a[i].p(o,n),re(a[i],1)):(a[i]=Ut(o),a[i].c(),re(a[i],1),a[i].m(t,null))}for(oe(),i=s.length;i<a.length;i+=1)o(i);ie()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)re(a[e]);n=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)ce(a[e]);n=!1},d(e){e&&y(t),$(a,e)}}}function Wt(e,t,n){let s;return c(e,at,(e=>n(0,s=e))),[s,function(e,t,n,a){n[a]=e,at.set(s)}]}class Vt extends we{constructor(e){super(),he(this,e,Wt,qt,r,{})}}function Kt(e){const t=e-1;return t*t*t+1}function Jt(e,{delay:t=0,duration:n=400,easing:s=Kt,x:a=0,y:o=0,opacity:i=0}){const r=getComputedStyle(e),c=+r.opacity,l="none"===r.transform?"":r.transform,d=c*(1-i);return{delay:t,duration:n,easing:s,css:(e,t)=>`\n\t\t\ttransform: ${l} translate(${(1-e)*a}px, ${(1-e)*o}px);\n\t\t\topacity: ${c-d*t}`}}function Yt(e){let t,n,s,a,i,r,c,l,d,u,g,p,m,f,h,$,k,S,j,E,L=e[2].texts.game+"",T=e[2].texts.myCategories+"",M=e[2].texts.settings+"";return{c(){t=b("div"),n=b("div"),s=b("ul"),a=b("li"),i=b("span"),r=C(L),c=B(),l=b("li"),d=b("span"),u=C(T),g=B(),p=b("li"),m=b("span"),f=C(M),$=B(),k=b("div"),I(i,"class","nav-link"),I(a,"class","nav-item svelte-1vkpcbr"),R(a,"active",!e[1].isConfigurationOpen&&!e[1].isCustomCategoriesOpen),I(d,"class","nav-link"),I(l,"class","nav-item svelte-1vkpcbr"),R(l,"active",e[1].isCustomCategoriesOpen),I(m,"class","nav-link"),I(p,"class","nav-item svelte-1vkpcbr"),R(p,"active",e[1].isConfigurationOpen),I(s,"class","navbar-nav"),I(n,"class","navbarNav svelte-1vkpcbr"),I(k,"class","overlay svelte-1vkpcbr"),I(t,"class","sidebar svelte-1vkpcbr")},m(o,h){v(o,t,h),w(t,n),w(n,s),w(s,a),w(a,i),w(i,r),w(s,c),w(s,l),w(l,d),w(d,u),w(s,g),w(s,p),w(p,m),w(m,f),w(t,$),w(t,k),S=!0,j||(E=[x(i,"click",O(e[3])),x(d,"click",O(e[4])),x(m,"click",O(e[5])),x(k,"click",e[6])],j=!0)},p(e,t){(!S||4&t)&&L!==(L=e[2].texts.game+"")&&_(r,L),2&t&&R(a,"active",!e[1].isConfigurationOpen&&!e[1].isCustomCategoriesOpen),(!S||4&t)&&T!==(T=e[2].texts.myCategories+"")&&_(u,T),2&t&&R(l,"active",e[1].isCustomCategoriesOpen),(!S||4&t)&&M!==(M=e[2].texts.settings+"")&&_(f,M),2&t&&R(p,"active",e[1].isConfigurationOpen)},i(e){S||(J((()=>{h||(h=de(n,Jt,{x:-50,duration:250},!0)),h.run(1)})),S=!0)},o(e){h||(h=de(n,Jt,{x:-50,duration:250},!1)),h.run(0),S=!1},d(e){e&&y(t),e&&h&&h.end(),j=!1,o(E)}}}function Qt(e){let t,n,s,a,o,i,r,c;const d=e[8].default,g=l(d,e,e[7],null);let p=e[0]&&Yt(e);return{c(){t=b("nav"),n=b("button"),n.innerHTML='<span class="navbar-toggler-icon"></span>',s=B(),g&&g.c(),a=B(),p&&p.c(),o=k(),I(n,"class","navbar-toggler"),I(t,"class","navbar navbar-dark bg-primary")},m(l,d){v(l,t,d),w(t,n),w(t,s),g&&g.m(t,null),v(l,a,d),p&&p.m(l,d),v(l,o,d),i=!0,r||(c=x(n,"click",O(e[6])),r=!0)},p(e,[t]){g&&g.p&&128&t&&u(g,d,e,e[7],t,null,null),e[0]?p?(p.p(e,t),1&t&&re(p,1)):(p=Yt(e),p.c(),re(p,1),p.m(o.parentNode,o)):p&&(oe(),ce(p,1,1,(()=>{p=null})),ie())},i(e){i||(re(g,e),re(p),i=!0)},o(e){ce(g,e),ce(p),i=!1},d(e){e&&y(t),g&&g.d(e),e&&y(a),p&&p.d(e),e&&y(o),r=!1,c()}}}function Xt(e,t,n){let s,a;c(e,Ae,(e=>n(1,s=e))),c(e,Ne,(e=>n(2,a=e)));let{$$slots:o={},$$scope:i}=t,{isSidebarOpen:r=!1}=t;function l(){n(0,r=!r)}return e.$$set=e=>{"isSidebarOpen"in e&&n(0,r=e.isSidebarOpen),"$$scope"in e&&n(7,i=e.$$scope)},[r,s,a,function(){Ae.closeConfigurationAndCustomCategories(),l()},function(){Ae.openCustomCategories(),l()},function(){Ae.openConfiguration(),l()},l,i,o]}class Zt extends we{constructor(e){super(),he(this,e,Xt,Qt,r,{isSidebarOpen:0})}}function en(e){let n,s,a,i,r,c,l,d,u,g,p,m,f,h,$,k,O;return{c(){n=b("div"),s=b("i"),a=B(),i=b("div"),r=b("div"),r.textContent="New",c=B(),l=b("div"),d=B(),u=b("div"),u.textContent="Export",g=B(),p=b("div"),m=B(),f=b("label"),h=C("Import\n            "),$=b("input"),I(s,"class","fas fa-ellipsis-v svelte-3kvgj6"),I(s,"id","customCategoriesMenuButton"),I(s,"data-toggle","dropdown"),I(s,"aria-haspopup","true"),I(s,"aria-expanded","false"),I(r,"class","dropdown-item"),I(l,"class","dropdown-divider"),I(u,"class","dropdown-item"),I(p,"class","dropdown-divider"),I($,"class","visibleButHidden"),I($,"type","file"),I($,"accept","application/json"),I(f,"class","dropdown-item"),I(i,"class","dropdown-menu svelte-3kvgj6"),I(i,"aria-labelledby","customCategoriesMenuButton"),I(n,"class","dropleft")},m(t,o){v(t,n,o),w(n,s),w(n,a),w(n,i),w(i,r),w(i,c),w(i,l),w(i,d),w(i,u),w(i,g),w(i,p),w(i,m),w(i,f),w(f,h),w(f,$),k||(O=[x(r,"click",e[3]),x(u,"click",e[2]),x($,"change",e[4])],k=!0)},p:t,i:t,o:t,d(e){e&&y(n),k=!1,o(O)}}}function tn(e,t,n){let s,a;c(e,at,(e=>n(5,s=e))),c(e,ot,(e=>n(6,a=e)));var o=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(a,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function r(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}c((s=s.apply(e,t||[])).next())}))};let i,{showCreateNewCategoryModalForm:r}=t;return e.$$set=e=>{"showCreateNewCategoryModalForm"in e&&n(0,r=e.showCreateNewCategoryModalForm)},e.$$.update=()=>{2&e.$$.dirty&&function(){o(this,void 0,void 0,(function*(){if(i&&i[0]&&i[0].type.includes("json"))try{const e=yield class{static deserialize(e){return new Promise(((t,n)=>{const s=new FileReader;s.onload=e=>{t(e.target.result)},s.onerror=e=>n(e),s.readAsText(e)}))}}.deserialize(i[0]),{categories:t,stages:n}=JSON.parse(e),s=t.map((({id:e,name:t,imageBase64:n})=>o(this,void 0,void 0,(function*(){return{id:e,newId:yield xt(t,n)}})))),a=yield Promise.all([...s]),r=[];a.forEach((({id:e,newId:t})=>n.forEach((({categoryId:n,word:s,imageBase64:a})=>e===n&&r.push(Ot(s,a,t)))))),yield Promise.all(r)}catch(e){console.log(e)}}))}()},[r,i,function(){const e=document.createElement("a");e.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({categories:s,stages:a}))),e.setAttribute("download","backup.json"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},()=>n(0,r=!0),function(){i=this.files,n(1,i)}]}class nn extends we{constructor(e){super(),he(this,e,tn,en,r,{showCreateNewCategoryModalForm:0})}}const sn=e=>({}),an=e=>({}),on=e=>({}),rn=e=>({class:"modal-title"});function cn(e){let t,n,s,a,i,r,c,d,g,p,m,f,h,$,k,O,S=e[1].texts.close+"";const j=e[5].header,E=l(j,e,e[4],rn),L=e[5].default,R=l(L,e,e[4],null),T=e[5].cta,M=l(T,e,e[4],an);return{c(){t=b("div"),n=B(),s=b("div"),a=b("div"),E&&E.c(),i=B(),r=b("button"),r.innerHTML='<span aria-hidden="true">×</span>',c=B(),d=b("div"),R&&R.c(),g=B(),p=b("div"),m=b("button"),f=C(S),h=B(),M&&M.c(),I(t,"class","modal-background svelte-18blkul"),I(r,"type","button"),I(r,"class","close"),I(a,"class","modal-header"),I(d,"class","modal-body"),I(m,"type","button"),I(m,"class","btn btn-secondary"),I(p,"class","modal-footer"),I(s,"class","modal svelte-18blkul"),I(s,"role","dialog"),I(s,"aria-modal","true")},m(o,l){v(o,t,l),v(o,n,l),v(o,s,l),w(s,a),E&&E.m(a,null),w(a,i),w(a,r),w(s,c),w(s,d),R&&R.m(d,null),w(s,g),w(s,p),w(p,m),w(m,f),w(p,h),M&&M.m(p,null),e[6](s),$=!0,k||(O=[x(window,"keydown",e[3]),x(t,"click",e[2]),x(r,"click",e[2]),x(m,"click",e[2])],k=!0)},p(e,[t]){E&&E.p&&16&t&&u(E,j,e,e[4],t,on,rn),R&&R.p&&16&t&&u(R,L,e,e[4],t,null,null),(!$||2&t)&&S!==(S=e[1].texts.close+"")&&_(f,S),M&&M.p&&16&t&&u(M,T,e,e[4],t,sn,an)},i(e){$||(re(E,e),re(R,e),re(M,e),$=!0)},o(e){ce(E,e),ce(R,e),ce(M,e),$=!1},d(a){a&&y(t),a&&y(n),a&&y(s),E&&E.d(a),R&&R.d(a),M&&M.d(a),e[6](null),k=!1,o(O)}}}function ln(e,t,n){let s;c(e,Ne,(e=>n(1,s=e)));let{$$slots:a={},$$scope:o}=t;const i=H(),r=()=>i("close");let l;const d="undefined"!=typeof document&&document.activeElement;var u;return d&&(u=()=>{d.focus()},G().$$.on_destroy.push(u)),e.$$set=e=>{"$$scope"in e&&n(4,o=e.$$scope)},[l,s,r,e=>{if("Escape"!==e.key){if("Tab"===e.key){const t=l.querySelectorAll("*"),n=Array.from(t).filter((e=>e.tabIndex>=0));let s=n.indexOf(document.activeElement);-1===s&&e.shiftKey&&(s=0),s+=n.length+(e.shiftKey?-1:1),s%=n.length,n[s].focus(),e.preventDefault()}}else r()},o,a,function(e){U[e?"unshift":"push"]((()=>{l=e,n(0,l)}))}]}class dn extends we{constructor(e){super(),he(this,e,ln,cn,r,{})}}function un(e){let t,n,s=e[4].texts.newCategory+"";return{c(){t=b("h5"),n=C(s),I(t,"slot","header")},m(e,s){v(e,t,s),w(t,n)},p(e,t){16&t&&s!==(s=e[4].texts.newCategory+"")&&_(n,s)},d(e){e&&y(t)}}}function gn(e){let t,n,s,a,o=e[4].texts.uploadPhotoInfo+"";return{c(){t=b("span"),t.innerHTML='<i class="fas fa-arrow-up svelte-fbvgzv"></i> \n                <i class="fas fa-camera svelte-fbvgzv"></i>',n=B(),s=b("span"),a=C(o),E(t,"position","relative"),I(s,"class","upload-text svelte-fbvgzv")},m(e,o){v(e,t,o),v(e,n,o),v(e,s,o),w(s,a)},p(e,t){16&t&&o!==(o=e[4].texts.uploadPhotoInfo+"")&&_(a,o)},d(e){e&&y(t),e&&y(n),e&&y(s)}}}function pn(e){let t,n;return{c(){t=b("img"),t.src!==(n=e[1])&&I(t,"src",n),I(t,"class","thumbnail")},m(e,n){v(e,t,n)},p(e,s){2&s&&t.src!==(n=e[1])&&I(t,"src",n)},d(e){e&&y(t)}}}function mn(e){let t,n,s,a,o,i=e[4].texts.create+"";return{c(){t=b("div"),n=b("button"),s=C(i),I(n,"type","button"),I(n,"class","btn btn-primary"),I(t,"slot","cta")},m(i,r){v(i,t,r),w(t,n),w(n,s),a||(o=x(n,"click",e[5]),a=!0)},p(e,t){16&t&&i!==(i=e[4].texts.create+"")&&_(s,i)},d(e){e&&y(t),a=!1,o()}}}function fn(e){let t,n,s,a,i,r,c,l,d,u;function g(e,t){return e[1]?pn:gn}let p=g(e),m=p(e);return{c(){t=B(),n=b("label"),m.c(),s=B(),a=b("input"),i=B(),r=b("input"),l=B(),I(a,"class","visibleButHidden"),I(a,"type","file"),I(a,"accept","image/*"),I(n,"class","svelte-fbvgzv"),I(r,"placeholder",c=e[4].texts.name),I(r,"type","text"),I(r,"class","form-control form-control-lg"),R(r,"is-invalid",e[2])},m(o,c){v(o,t,c),v(o,n,c),m.m(n,null),w(n,s),w(n,a),v(o,i,c),v(o,r,c),j(r,e[0]),v(o,l,c),d||(u=[x(a,"change",e[7]),x(r,"input",e[8])],d=!0)},p(e,t){p===(p=g(e))&&m?m.p(e,t):(m.d(1),m=p(e),m&&(m.c(),m.m(n,s))),16&t&&c!==(c=e[4].texts.name)&&I(r,"placeholder",c),1&t&&r.value!==e[0]&&j(r,e[0]),4&t&&R(r,"is-invalid",e[2])},d(e){e&&y(t),e&&y(n),m.d(),e&&y(i),e&&y(r),e&&y(l),d=!1,o(u)}}}function hn(e){let t,n;return t=new dn({props:{$$slots:{default:[fn],cta:[mn],header:[un]},$$scope:{ctx:e}}}),t.$on("close",e[6]),{c(){ge(t.$$.fragment)},m(e,s){pe(t,e,s),n=!0},p(e,[n]){const s={};4127&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){me(t,e)}}}function wn(e,t,n){let s;c(e,Ne,(e=>n(4,s=e)));var a=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(a,o){function i(e){try{c(s.next(e))}catch(e){o(e)}}function r(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,r)}c((s=s.apply(e,t||[])).next())}))};let o,i,r,l=!1;const d=H();return e.$$.update=()=>{8&e.$$.dirty&&function(){a(this,void 0,void 0,(function*(){r&&r[0]&&r[0].type.includes("image")&&n(1,i=yield Bt.convert(r[0]))}))}()},[o,i,l,r,s,function(){return a(this,void 0,void 0,(function*(){void 0!==o&&""!==o?(n(2,l=!1),i&&(yield xt(o,i),n(0,o=""),n(3,r=void 0),n(1,i=void 0))):n(2,l=!0)}))},()=>d("close"),function(){r=this.files,n(3,r)},function(){o=this.value,n(0,o)}]}class vn extends we{constructor(e){super(),he(this,e,wn,hn,r,{})}}function yn(e){let n,s,a,o,i=e[5].texts.start+"";return{c(){n=b("button"),s=C(i),I(n,"class","btn btn-primary btn-lg btn-block")},m(t,i){v(t,n,i),w(n,s),a||(o=x(n,"click",e[6]),a=!0)},p(e,t){32&t&&i!==(i=e[5].texts.start+"")&&_(s,i)},i:t,o:t,d(e){e&&y(n),a=!1,o()}}}function $n(e){let t,n,s,a;const o=[Cn,bn],i=[];function r(e,t){return e[0].length>0?0:1}return t=r(e),n=i[t]=o[t](e),{c(){n.c(),s=k()},m(e,n){i[t].m(e,n),v(e,s,n),a=!0},p(e,a){let c=t;t=r(e),t===c?i[t].p(e,a):(oe(),ce(i[c],1,1,(()=>{i[c]=null})),ie(),n=i[t],n||(n=i[t]=o[t](e),n.c()),re(n,1),n.m(s.parentNode,s))},i(e){a||(re(n),a=!0)},o(e){ce(n),a=!1},d(e){i[t].d(e),e&&y(s)}}}function bn(e){let n;return{c(){n=b("div"),n.textContent="Install speech synthesis voices"},m(e,t){v(e,n,t)},p:t,i:t,o:t,d(e){e&&y(n)}}}function Cn(e){let t,n,s,a,o,i,r,c;function l(t){e[8].call(null,t)}let d={$$slots:{default:[kn]},$$scope:{ctx:e}};void 0!==e[2]&&(d.isSidebarOpen=e[2]),t=new Zt({props:d}),U.push((()=>ue(t,"isSidebarOpen",l)));let u=e[3]&&xn(e),g=!e[4].isCustomCategoriesOpen&&On(e),p=e[4].isConfigurationOpen&&Sn(e),m=e[4].isCustomCategoriesOpen&&In();return{c(){ge(t.$$.fragment),s=B(),u&&u.c(),a=B(),g&&g.c(),o=B(),p&&p.c(),i=B(),m&&m.c(),r=k()},m(e,n){pe(t,e,n),v(e,s,n),u&&u.m(e,n),v(e,a,n),g&&g.m(e,n),v(e,o,n),p&&p.m(e,n),v(e,i,n),m&&m.m(e,n),v(e,r,n),c=!0},p(e,s){const c={};1048&s&&(c.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,c.isSidebarOpen=e[2],Y((()=>n=!1))),t.$set(c),e[3]?u?(u.p(e,s),8&s&&re(u,1)):(u=xn(e),u.c(),re(u,1),u.m(a.parentNode,a)):u&&(oe(),ce(u,1,1,(()=>{u=null})),ie()),e[4].isCustomCategoriesOpen?g&&(oe(),ce(g,1,1,(()=>{g=null})),ie()):g?(g.p(e,s),16&s&&re(g,1)):(g=On(e),g.c(),re(g,1),g.m(o.parentNode,o)),e[4].isConfigurationOpen?p?(p.p(e,s),16&s&&re(p,1)):(p=Sn(e),p.c(),re(p,1),p.m(i.parentNode,i)):p&&(oe(),ce(p,1,1,(()=>{p=null})),ie()),e[4].isCustomCategoriesOpen?m?16&s&&re(m,1):(m=In(),m.c(),re(m,1),m.m(r.parentNode,r)):m&&(oe(),ce(m,1,1,(()=>{m=null})),ie())},i(e){c||(re(t.$$.fragment,e),re(u),re(g),re(p),re(m),c=!0)},o(e){ce(t.$$.fragment,e),ce(u),ce(g),ce(p),ce(m),c=!1},d(e){me(t,e),e&&y(s),u&&u.d(e),e&&y(a),g&&g.d(e),e&&y(o),p&&p.d(e),e&&y(i),m&&m.d(e),e&&y(r)}}}function Bn(e){let t,n,s;function a(t){e[7].call(null,t)}let o={};return void 0!==e[3]&&(o.showCreateNewCategoryModalForm=e[3]),t=new nn({props:o}),U.push((()=>ue(t,"showCreateNewCategoryModalForm",a))),{c(){ge(t.$$.fragment)},m(e,n){pe(t,e,n),s=!0},p(e,s){const a={};!n&&8&s&&(n=!0,a.showCreateNewCategoryModalForm=e[3],Y((()=>n=!1))),t.$set(a)},i(e){s||(re(t.$$.fragment,e),s=!0)},o(e){ce(t.$$.fragment,e),s=!1},d(e){me(t,e)}}}function kn(e){let t,n,s=e[4].isCustomCategoriesOpen&&Bn(e);return{c(){s&&s.c(),t=k()},m(e,a){s&&s.m(e,a),v(e,t,a),n=!0},p(e,n){e[4].isCustomCategoriesOpen?s?(s.p(e,n),16&n&&re(s,1)):(s=Bn(e),s.c(),re(s,1),s.m(t.parentNode,t)):s&&(oe(),ce(s,1,1,(()=>{s=null})),ie())},i(e){n||(re(s),n=!0)},o(e){ce(s),n=!1},d(e){s&&s.d(e),e&&y(t)}}}function xn(e){let n,s;return n=new vn({}),n.$on("close",e[9]),{c(){ge(n.$$.fragment)},m(e,t){pe(n,e,t),s=!0},p:t,i(e){s||(re(n.$$.fragment,e),s=!0)},o(e){ce(n.$$.fragment,e),s=!1},d(e){me(n,e)}}}function On(e){let t,n,s;return n=new Ct({}),{c(){t=b("div"),ge(n.$$.fragment),R(t,"visibleButHidden",e[4].isConfigurationOpen)},m(e,a){v(e,t,a),pe(n,t,null),s=!0},p(e,n){16&n&&R(t,"visibleButHidden",e[4].isConfigurationOpen)},i(e){s||(re(n.$$.fragment,e),s=!0)},o(e){ce(n.$$.fragment,e),s=!1},d(e){e&&y(t),me(n)}}}function Sn(e){let t,n;return t=new st({props:{voices:e[0]}}),{c(){ge(t.$$.fragment)},m(e,s){pe(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.voices=e[0]),t.$set(s)},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){me(t,e)}}}function In(e){let t,n;return t=new Vt({}),{c(){ge(t.$$.fragment)},m(e,s){pe(t,e,s),n=!0},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){me(t,e)}}}function _n(e){let n,s,a,o,r,c,l,d,u,g,p,m,f;document.title=r=e[5].texts.appName;const h=[$n,yn],$=[];function C(e,t){return e[0]?0:1}return d=C(e),u=$[d]=h[d](e),{c(){n=b("meta"),a=b("meta"),c=B(),l=b("main"),u.c(),I(n,"name","description"),I(n,"content",s=e[5].texts.metaDescription),I(a,"name","keywords"),I(a,"content",o=e[5].texts.metaKeywords),I(l,"class","container-xl svelte-4di22r"),R(l,"isSidebarOpen",e[2])},m(s,o){var r;w(document.head,n),w(document.head,a),v(s,c,o),v(s,l,o),$[d].m(l,null),p=!0,m||(r=g=De.call(null,l,e[1]),f=r&&i(r.destroy)?r.destroy:t,m=!0)},p(e,[t]){(!p||32&t&&s!==(s=e[5].texts.metaDescription))&&I(n,"content",s),(!p||32&t&&o!==(o=e[5].texts.metaKeywords))&&I(a,"content",o),(!p||32&t)&&r!==(r=e[5].texts.appName)&&(document.title=r);let c=d;d=C(e),d===c?$[d].p(e,t):(oe(),ce($[c],1,1,(()=>{$[c]=null})),ie(),u=$[d],u||(u=$[d]=h[d](e),u.c()),re(u,1),u.m(l,null)),g&&i(g.update)&&2&t&&g.update.call(null,e[1]),4&t&&R(l,"isSidebarOpen",e[2])},i(e){p||(re(u),p=!0)},o(e){ce(u),p=!1},d(e){y(n),y(a),e&&y(c),e&&y(l),$[d].d(),m=!1,f()}}}function jn(e,t,n){let s,a,o,i;c(e,Ae,(e=>n(4,s=e))),c(e,Ne,(e=>n(5,a=e)));let r=!1,l=!1;Ge.addEventListener("onLoad",((e,t)=>{Ge.setVoice(s.language),n(0,o=t)}));return e.$$.update=()=>{16&e.$$.dirty&&Ge.setVoice(s.language),16&e.$$.dirty&&n(1,i=class{static build(e){switch(e){case be.GREEN:return new Oe;case be.PINK:return new Be;case be.BLUE:return new xe;case be.RED:return new _e;case be.PURPLE:return new ke;case be.YELLOW:return new Se;case be.ORANGE:return new Ie;case be.BROWN:return new je;default:return new Be}}}.build(s.colorThemeType))},[o,i,r,l,s,a,function(){Ge.readOutLoud(a.texts.letsStart),n(0,o=[])},function(e){l=e,n(3,l)},function(e){r=e,n(2,r)},()=>n(3,l=!1)]}const En=new class extends we{constructor(e){super(),he(this,e,jn,_n,r,{})}}({target:document.body,props:{}});return Ae.subscribe((e=>Me.writeConfiguration(e))),kt.addEventListener("onOpen",(async()=>{at.addCategories(await kt.getCategories()),ot.addStages(await kt.getStages())})),e.app=En,e}({});
//# sourceMappingURL=bundle.js.map
