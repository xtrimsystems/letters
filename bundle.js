var app=function(e){"use strict";function t(){}const n=e=>e;function s(e){return e()}function a(){return Object.create(null)}function o(e){e.forEach(s)}function i(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,n,s){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}(n,s))}function l(e,t,n,s){if(e){const a=d(e,t,n,s);return e[0](a)}}function d(e,t,n,s){return e[1]&&s?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](s(t))):n.ctx}function u(e,t,n,s,a,o,i){const r=function(e,t,n,s){if(e[2]&&s){const a=e[2](s(n));if(void 0===t.dirty)return a;if("object"==typeof a){const e=[],n=Math.max(t.dirty.length,a.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|a[s];return e}return t.dirty|a}return t.dirty}(t,s,a,o);if(r){const a=d(t,n,s,i);e.p(a,r)}}const g="undefined"!=typeof window;let p=g?()=>window.performance.now():()=>Date.now(),m=g?e=>requestAnimationFrame(e):t;const f=new Set;function h(e){f.forEach(t=>{t.c(e)||(f.delete(t),t.f())}),0!==f.size&&m(h)}function w(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function $(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function b(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function B(){return C(" ")}function k(){return C("")}function x(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function S(e){return function(t){return t.preventDefault(),e.call(this,t)}}function O(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function I(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function E(e,t){e.value=null==t?"":t}function j(e,t,n,s){e.style.setProperty(t,n,s?"important":"")}function L(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}}function T(e,t,n){e.classList[n?"add":"remove"](t)}function M(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const A=new Set;let R,N=0;function P(e,t,n,s,a,o,i,r=0){const c=16.666/s;let l="{\n";for(let e=0;e<=1;e+=c){const s=t+(n-t)*o(e);l+=100*e+`%{${i(s,1-s)}}\n`}const d=l+`100% {${i(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${r}`,g=e.ownerDocument;A.add(g);const p=g.__svelte_stylesheet||(g.__svelte_stylesheet=g.head.appendChild(b("style")).sheet),m=g.__svelte_rules||(g.__svelte_rules={});m[u]||(m[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?f+", ":""}${u} ${s}ms linear ${a}ms 1 both`,N+=1,u}function F(e,t){const n=(e.style.animation||"").split(", "),s=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),a=n.length-s.length;a&&(e.style.animation=s.join(", "),N-=a,N||m(()=>{N||(A.forEach(e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}}),A.clear())}))}function G(e){R=e}function D(){if(!R)throw new Error("Function called outside component initialization");return R}function H(){const e=D();return(t,n)=>{const s=e.$$.callbacks[t];if(s){const a=M(t,n);s.slice().forEach(t=>{t.call(e,a)})}}}const z=[],U=[],q=[],W=[],V=Promise.resolve();let K=!1;function J(e){q.push(e)}function Y(e){W.push(e)}let Q=!1;const X=new Set;function Z(){if(!Q){Q=!0;do{for(let e=0;e<z.length;e+=1){const t=z[e];G(t),ee(t.$$)}for(z.length=0;U.length;)U.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];X.has(t)||(X.add(t),t())}q.length=0}while(z.length);for(;W.length;)W.pop()();K=!1,Q=!1,X.clear()}}function ee(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}let te;function ne(e,t,n){e.dispatchEvent(M(`${t?"intro":"outro"}${n}`))}const se=new Set;let ae;function oe(){ae={r:0,c:[],p:ae}}function ie(){ae.r||o(ae.c),ae=ae.p}function re(e,t){e&&e.i&&(se.delete(e),e.i(t))}function ce(e,t,n,s){if(e&&e.o){if(se.has(e))return;se.add(e),ae.c.push(()=>{se.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}}const le={duration:0};function de(e,s,a,r){let c=s(e,a),l=r?0:1,d=null,u=null,g=null;function w(){g&&F(e,g)}function v(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function y(s){const{delay:a=0,duration:i=300,easing:r=n,tick:y=t,css:$}=c||le,b={start:p()+a,b:s};s||(b.group=ae,ae.r+=1),d?u=b:($&&(w(),g=P(e,l,s,i,a,r,$)),s&&y(0,1),d=v(b,i),J(()=>ne(e,s,"start")),function(e){let t;0===f.size&&m(h),new Promise(n=>{f.add(t={c:e,f:n})})}(t=>{if(u&&t>u.start&&(d=v(u,i),u=null,ne(e,d.b,"start"),$&&(w(),g=P(e,l,d.b,d.duration,0,r,c.css))),d)if(t>=d.end)y(l=d.b,1-l),ne(e,d.b,"end"),u||(d.b?w():--d.group.r||o(d.group.c)),d=null;else if(t>=d.start){const e=t-d.start;l=d.a+d.d*r(e/d.duration),y(l,1-l)}return!(!d&&!u)}))}return{run(e){i(c)?(te||(te=Promise.resolve(),te.then(()=>{te=null})),te).then(()=>{c=c(),y(e)}):y(e)},end(){w(),d=u=null}}}function ue(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function ge(e){e&&e.c()}function pe(e,t,n){const{fragment:a,on_mount:r,on_destroy:c,after_update:l}=e.$$;a&&a.m(t,n),J(()=>{const t=r.map(s).filter(i);c?c.push(...t):o(t),e.$$.on_mount=[]}),l.forEach(J)}function me(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function fe(e,t){-1===e.$$.dirty[0]&&(z.push(e),K||(K=!0,V.then(Z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function he(e,n,s,i,r,c,l=[-1]){const d=R;G(e);const u=n.props||{},g=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:r,bound:a(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:a(),dirty:l,skip_bound:!1};let p=!1;if(g.ctx=s?s(e,u,(t,n,...s)=>{const a=s.length?s[0]:n;return g.ctx&&r(g.ctx[t],g.ctx[t]=a)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](a),p&&fe(e,t)),n}):[],g.update(),p=!0,o(g.before_update),g.fragment=!!i&&i(g.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);g.fragment&&g.fragment.l(e),e.forEach(y)}else g.fragment&&g.fragment.c();n.intro&&re(e.$$.fragment),pe(e,n.target,n.anchor),Z()}G(d)}class we{$destroy(){me(this,1),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ve=[];class ye{constructor(e){const n=function(e){return function(e,n=t){let s;const a=[];function o(t){if(r(e,t)&&(e=t,s)){const t=!ve.length;for(let t=0;t<a.length;t+=1){const n=a[t];n[1](),ve.push(n,e)}if(t){for(let e=0;e<ve.length;e+=2)ve[e][0](ve[e+1]);ve.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(i,r=t){const c=[i,r];return a.push(c),1===a.length&&(s=n(o)||t),i(e),()=>{const e=a.indexOf(c);-1!==e&&a.splice(e,1),0===a.length&&(s(),s=null)}}}}(e)}(e);this.subscribe=n.subscribe,this.set=n.set,this.update=n.update}set(e){}update(e){}subscribe(e,t){}}const $e=["en|en-GB|en-US","es|es-ES|es-US"];var be;!function(e){e.PINK="Pink",e.RED="Red",e.ORANGE="Orange",e.YELLOW="Yellow",e.PURPLE="Purple",e.BLUE="Blue",e.GREEN="Green",e.BROWN="Brown"}(be||(be={}));class Ce{constructor(){this.lightgrey="#dbdbdb",this.white="#ffffff",this.black="#000000"}}class Be extends Ce{constructor(){super(...arguments),this.id=be.PINK,this.mainBackgroundColor="#ec407a",this.darkBackgroundColor="#b4004e",this.lightBackgroundColor="#ff77a9",this.mainFontColor="black",this.darkFontColor="white",this.lightFontColor="black"}}class ke extends Ce{constructor(){super(...arguments),this.id=be.PURPLE,this.mainBackgroundColor="#ab47bc",this.darkBackgroundColor="#790e8b",this.lightBackgroundColor="#df78ef",this.mainFontColor="white",this.darkFontColor="white",this.lightFontColor="black"}}class xe extends Ce{constructor(){super(...arguments),this.id=be.BLUE,this.mainBackgroundColor="#42a5f5",this.darkBackgroundColor="#0077c2",this.lightBackgroundColor="#80d6ff",this.mainFontColor="black",this.darkFontColor="white",this.lightFontColor="black"}}class Se extends Ce{constructor(){super(...arguments),this.id=be.GREEN,this.mainBackgroundColor="#66bb6a",this.darkBackgroundColor="#338a3e",this.lightBackgroundColor="#98ee99",this.mainFontColor="black",this.darkFontColor="black",this.lightFontColor="black"}}class Oe extends Ce{constructor(){super(...arguments),this.id=be.YELLOW,this.mainBackgroundColor="#ffca28",this.darkBackgroundColor="#c79a00",this.lightBackgroundColor="#fffd61",this.mainFontColor="black",this.darkFontColor="black",this.lightFontColor="black"}}class Ie extends Ce{constructor(){super(...arguments),this.id=be.ORANGE,this.mainBackgroundColor="#ff7043",this.darkBackgroundColor="#c63f17",this.lightBackgroundColor="#ffa270",this.mainFontColor="black",this.darkFontColor="white",this.lightFontColor="black"}}class _e extends Ce{constructor(){super(...arguments),this.id=be.RED,this.mainBackgroundColor="#f44336",this.darkBackgroundColor="#ba000d",this.lightBackgroundColor="#ff7961",this.mainFontColor="black",this.darkFontColor="white",this.lightFontColor="black"}}class Ee extends Ce{constructor(){super(...arguments),this.id=be.BROWN,this.mainBackgroundColor="#8d6e63",this.darkBackgroundColor="#5f4339",this.lightBackgroundColor="#be9c91",this.mainFontColor="black",this.darkFontColor="white",this.lightFontColor="black"}}const je=window.navigator.language;let Le="es"===je?"es-ES":"en"===je?"en-GB":je;Le=$e.find(e=>Le.match(e))?Le:"en-GB";const Te=new class{constructor(e){this.initialConfiguration={isConfigurationOpen:!0,isCustomCategoriesOpen:!1,isMiniLetterActive:!1,colorThemeType:be.PINK,language:Le},this.localStorage=e,this.hasConfiguration()||this.writeConfiguration(this.initialConfiguration)}writeConfiguration(e){this.localStorage.setItem("configuration",JSON.stringify(e))}getConfiguration(){return JSON.parse(this.localStorage.getItem("configuration"))}hasConfiguration(){return null!==this.localStorage.getItem("configuration")}}(window.localStorage);const Me=new class extends ye{updateLanguage(e){this.update(t=>({...t,language:e}))}updateColorTheme(e){this.update(t=>({...t,colorThemeType:e}))}updateMiniLetter(e){this.update(t=>({...t,isMiniLetterActive:e}))}openConfiguration(){this.update(e=>({...e,isConfigurationOpen:!0,isCustomCategoriesOpen:!1}))}closeConfiguration(){this.update(e=>({...e,isConfigurationOpen:!1}))}openCustomCategories(){this.update(e=>({...e,isCustomCategoriesOpen:!0,isConfigurationOpen:!1}))}closeCustomCategories(){this.update(e=>({...e,isCustomCategoriesOpen:!1}))}closeConfigurationAndCustomCategories(){this.update(e=>({...e,isConfigurationOpen:!1,isCustomCategoriesOpen:!1}))}}(Te.getConfiguration()),Ae=[{language:"es|es-ES|es-US",texts:{appName:"Letras",language:"Idioma",color:"Color",showLowerCase:"Mostrar letras en minúscula",veryGood:"Muy Bien!",category:"Categoría",newCategory:"Nueva Categoría",name:"Nombre",newStage:"Nueva Palabra",repeatLetter:"Repetir letra",pressLetter:"Teclea la letra",theWordToWriteIs:"La palabra a escribir es",start:"Empezar!",letsStart:"Vamos a empezar!",backToMenu:"Volver al menu",close:"Cerrar",create:"Crear",uploadPhotoInfo:"Click para cargar foto",game:"Juego",myCategories:"Mis Categorias",settings:"Opciones"}},{language:"en|en-GB|en-US",texts:{appName:"Letters",language:"Language",color:"Color",showLowerCase:"Show lower case letters",veryGood:"Very Good!",category:"Category",newCategory:"New Category",name:"Name",newStage:"New Word",repeatLetter:"Repeat letter",pressLetter:"Press the key",theWordToWriteIs:"The word to write is",start:"Start!",letsStart:"Lets start!",backToMenu:"Back to menu",close:"Close",create:"Create",uploadPhotoInfo:"Click to load photo",game:"Game",myCategories:"My Categories",settings:"Settings"}}];const Re=new class extends ye{updateI18n(e){this.update(t=>e)}}(Ae.find(e=>Te.getConfiguration().language.match(e.language)));function Ne(e,t){return Object.entries(t).forEach(([t,n])=>{e.style.setProperty("--"+t,n)}),{update(n){Object.entries(n).forEach(([n,s])=>{e.style.setProperty("--"+n,s),delete t[n]}),Object.keys(t).forEach(t=>e.style.removeProperty("--"+t)),t=n}}}class Pe{addEventListener(e,t){this.listeners||(this.listeners=[]),e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)}removeEventListener(e,t){if(!this.listeners||!(e in this.listeners))return;const n=this.listeners[e],s=n.length;for(let e=0;e<s;e++)if(n[e]===t)return void n.splice(e,1)}dispatchEvent(e,t){if(!this.listeners||!(e.type in this.listeners))return!0;const n=this.listeners[e.type].slice(),s=n.length;for(let a=0;a<s;a++)n[a].call(this,e,t);return!e.defaultPrevented}}const Fe=new class extends Pe{constructor(){super(),this.voices=[],this.speech=new SpeechSynthesisUtterance,window.speechSynthesis.addEventListener("voiceschanged",()=>this.handleSpeechSynthesisVoices()),this.speech.volume=1}setVoice(e){this.speech.voice=this.voices.find(t=>t.lang.match(e))||null}readOutLoud(e,t){null!==this.speech.onend&&(this.speech.onend=null),t&&(this.speech.onend=()=>{this.speech.onend=null,this.readOutLoud(t)}),this.speech.text=e,this.cancelReading(),window.speechSynthesis.speak(this.speech)}cancelReading(){window.speechSynthesis.cancel()}handleSpeechSynthesisVoices(){this.voices=window.speechSynthesis.getVoices().filter(e=>e.lang.match(/e[n|s]/)).sort((function(e,t){const n=e.name.toUpperCase(),s=t.name.toUpperCase();return n<s?-1:n===s?0:1})),this.dispatchEvent(new CustomEvent("onLoad"),this.voices)}};function Ge(e){let t,n;const s=e[1].default,a=l(s,e,e[0],null);return{c(){t=b("div"),a&&a.c(),I(t,"class","svelte-2rusoc")},m(e,s){v(e,t,s),a&&a.m(t,null),n=!0},p(e,[t]){a&&a.p&&1&t&&u(a,s,e,e[0],t,null,null)},i(e){n||(re(a,e),n=!0)},o(e){ce(a,e),n=!1},d(e){e&&y(t),a&&a.d(e)}}}function De(e,t,n){let{$$slots:s={},$$scope:a}=t;return e.$$set=e=>{"$$scope"in e&&n(0,a=e.$$scope)},[a,s]}class He extends we{constructor(e){super(),he(this,e,De,Ge,r,{})}}function ze(e,t,n){const s=e.slice();return s[3]=t[n],s[5]=n,s}function Ue(e){let t,n,s,a,o=e[3]+"";return{c(){t=b("div"),n=b("div"),s=C(o),a=B(),I(n,"class","svelte-1wvt3yh"),T(n,"isMiniLetterActive",e[2]),I(t,"class","letter svelte-1wvt3yh"),T(t,"isActive",e[5]===e[1]),T(t,"isGuessed",e[5]<e[1])},m(e,o){v(e,t,o),w(t,n),w(n,s),w(t,a)},p(e,a){1&a&&o!==(o=e[3]+"")&&_(s,o),4&a&&T(n,"isMiniLetterActive",e[2]),2&a&&T(t,"isActive",e[5]===e[1]),2&a&&T(t,"isGuessed",e[5]<e[1])},d(e){e&&y(t)}}}function qe(e){let n,s=e[0],a=[];for(let t=0;t<s.length;t+=1)a[t]=Ue(ze(e,s,t));return{c(){n=b("div");for(let e=0;e<a.length;e+=1)a[e].c();I(n,"class","word svelte-1wvt3yh")},m(e,t){v(e,n,t);for(let e=0;e<a.length;e+=1)a[e].m(n,null)},p(e,[t]){if(7&t){let o;for(s=e[0],o=0;o<s.length;o+=1){const i=ze(e,s,o);a[o]?a[o].p(i,t):(a[o]=Ue(i),a[o].c(),a[o].m(n,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=s.length}},i:t,o:t,d(e){e&&y(n),$(a,e)}}}function We(e,t,n){let{value:s="demo"}=t,{index:a=2}=t,{isMiniLetterActive:o=!1}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"index"in e&&n(1,a=e.index),"isMiniLetterActive"in e&&n(2,o=e.isMiniLetterActive)},[s,a,o]}class Ve extends we{constructor(e){super(),he(this,e,We,qe,r,{value:0,index:1,isMiniLetterActive:2})}}function Ke(e,t,n){const s=e.slice();return s[10]=t[n],s[12]=n,s}function Je(e,t,n){const s=e.slice();return s[13]=t[n],s}function Ye(e){let t,n,s,a=e[13].name+"";return{c(){t=b("option"),n=C(a),t.__value=s=e[13].lang,t.value=t.__value,I(t,"class","svelte-pv1cn3")},m(e,s){v(e,t,s),w(t,n)},p(e,o){1&o&&a!==(a=e[13].name+"")&&_(n,a),1&o&&s!==(s=e[13].lang)&&(t.__value=s,t.value=t.__value)},d(e){e&&y(t)}}}function Qe(e){let t,n,s,a,o,i,r,c;return{c(){t=b("label"),n=b("input"),a=B(),I(n,"type","radio"),n.__value=s=e[10],n.value=n.__value,I(n,"class","svelte-pv1cn3"),e[7][0].push(n),I(t,"class",o="color "+e[10]+" "+(e[10]===e[2]?"active":"")+" svelte-pv1cn3"),I(t,"title",i=e[10])},m(s,o){v(s,t,o),w(t,n),n.checked=n.__value===e[2],w(t,a),r||(c=x(n,"change",e[6]),r=!0)},p(e,s){4&s&&(n.checked=n.__value===e[2]),4&s&&o!==(o="color "+e[10]+" "+(e[10]===e[2]?"active":"")+" svelte-pv1cn3")&&I(t,"class",o)},d(s){s&&y(t),e[7][0].splice(e[7][0].indexOf(n),1),r=!1,c()}}}function Xe(e){let t,n,s,a,i,r,c,l,d,u,g,p,m,f,h,k,S,O,E,j,T,M,A,R,N,P,F=e[4].texts.language+"",G=e[4].texts.color+"",D=e[4].texts.showLowerCase+"",H=e[0],z=[];for(let t=0;t<H.length;t+=1)z[t]=Ye(Je(e,H,t));let U=Object.values(be),q=[];for(let t=0;t<U.length;t+=1)q[t]=Qe(Ke(e,U,t));return A=new Ve({props:{isMiniLetterActive:e[3]}}),{c(){t=b("div"),n=b("label"),s=C(F),a=B(),i=b("div"),r=b("select");for(let e=0;e<z.length;e+=1)z[e].c();c=B(),l=b("div"),d=b("div"),u=b("label"),g=C(G),p=B(),m=b("div");for(let e=0;e<q.length;e+=1)q[e].c();f=B(),h=b("div"),k=b("div"),S=b("input"),O=B(),E=b("label"),j=C(D),T=B(),M=b("div"),ge(A.$$.fragment),I(n,"for","voices"),I(n,"class","col-md-3 col-form-label"),I(r,"name","voices"),I(r,"id","voices"),I(r,"class","custom-select svelte-pv1cn3"),void 0===e[1]&&J(()=>e[5].call(r)),I(i,"class","col-md-9"),I(t,"class","form-group row"),I(u,"class","col-md-3 col-form-label"),I(d,"class","row"),I(m,"class","row colors svelte-pv1cn3"),I(l,"class","form-group"),I(S,"type","checkbox"),I(S,"class","custom-control-input"),I(S,"id","miniLetter"),I(E,"class","custom-control-label"),I(E,"for","miniLetter"),I(k,"class","custom-control custom-switch"),I(h,"class","form-group"),I(M,"class","form-group")},m(o,y){v(o,t,y),w(t,n),w(n,s),w(t,a),w(t,i),w(i,r);for(let e=0;e<z.length;e+=1)z[e].m(r,null);L(r,e[1]),v(o,c,y),v(o,l,y),w(l,d),w(d,u),w(u,g),w(l,p),w(l,m);for(let e=0;e<q.length;e+=1)q[e].m(m,null);v(o,f,y),v(o,h,y),w(h,k),w(k,S),S.checked=e[3],w(k,O),w(k,E),w(E,j),v(o,T,y),v(o,M,y),pe(A,M,null),R=!0,N||(P=[x(r,"change",e[5]),x(S,"change",e[8])],N=!0)},p(e,t){if((!R||16&t)&&F!==(F=e[4].texts.language+"")&&_(s,F),1&t){let n;for(H=e[0],n=0;n<H.length;n+=1){const s=Je(e,H,n);z[n]?z[n].p(s,t):(z[n]=Ye(s),z[n].c(),z[n].m(r,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=H.length}if(3&t&&L(r,e[1]),(!R||16&t)&&G!==(G=e[4].texts.color+"")&&_(g,G),4&t){let n;for(U=Object.values(be),n=0;n<U.length;n+=1){const s=Ke(e,U,n);q[n]?q[n].p(s,t):(q[n]=Qe(s),q[n].c(),q[n].m(m,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=U.length}8&t&&(S.checked=e[3]),(!R||16&t)&&D!==(D=e[4].texts.showLowerCase+"")&&_(j,D);const n={};8&t&&(n.isMiniLetterActive=e[3]),A.$set(n)},i(e){R||(re(A.$$.fragment,e),R=!0)},o(e){ce(A.$$.fragment,e),R=!1},d(e){e&&y(t),$(z,e),e&&y(c),e&&y(l),$(q,e),e&&y(f),e&&y(h),e&&y(T),e&&y(M),me(A),N=!1,o(P)}}}function Ze(e){let t,n;return t=new He({props:{$$slots:{default:[Xe]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,s){pe(t,e,s),n=!0},p(e,[n]){const s={};65567&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){me(t,e)}}}function et(e,t,n){let s,a;c(e,Me,e=>n(9,s=e)),c(e,Re,e=>n(4,a=e));let{voices:o}=t,i=s.language,r=s.colorThemeType,l=s.isMiniLetterActive;return e.$$set=e=>{"voices"in e&&n(0,o=e.voices)},e.$$.update=()=>{4&e.$$.dirty&&Me.updateColorTheme(r),8&e.$$.dirty&&Me.updateMiniLetter(l),2&e.$$.dirty&&void 0!==i&&Me.updateLanguage(i),512&e.$$.dirty&&Re.updateI18n(Ae.find(e=>s.language.match(e.language)))},[o,i,r,l,a,function(){i=function(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}(this),n(1,i),n(0,o)},function(){r=this.__value,n(2,r)},[[]],function(){l=this.checked,n(3,l)}]}class tt extends we{constructor(e){super(),he(this,e,et,Ze,r,{voices:0})}}const nt=new class extends ye{addCategories(e){this.set(e)}addCategory(e){this.update(t=>t.find(t=>t.id===e.id)?[...t]:[...t,e])}removeCategory(e){this.update(t=>t.filter(t=>t.id!==e.id))}updateCategory(e){this.update(t=>t.map(t=>t.id===e.id?e:t))}}([]);const st=new class extends ye{addStages(e){this.set(e)}addStage(e){this.update(t=>t.find(t=>t.id===e.id)?[...t]:[...t,e])}removeStage(e){this.update(t=>t.filter(t=>t.id!==e.id))}updateStage(e){this.update(t=>t.map(t=>t.id===e.id?e:t))}removeStagesOfCategory(e){this.update(t=>t.filter(t=>t.categoryId!==e))}}([]),at=[{language:"es|es-ES|es-US",categories:[{id:-1,name:"Animales",imageBase64:"images/animals.webp"},{id:-2,name:"Cosas de casa",imageBase64:"images/house.jpeg"},{id:-3,name:"Partes del cuerpo",imageBase64:"images/body.png"}],stages:[{id:-1,categoryId:-1,word:"ardilla",imageBase64:"images/words/squirrel.jpg"},{id:-1,categoryId:-1,word:"caballo",imageBase64:"images/words/horse-male.jpg"},{id:-1,categoryId:-1,word:"cebra",imageBase64:"images/words/zebra.jpg"},{id:-1,categoryId:-1,word:"ciervo",imageBase64:"images/words/deer.jpg"},{id:-1,categoryId:-1,word:"conejo",imageBase64:"images/words/rabbit.jpg"},{id:-1,categoryId:-1,word:"elefante",imageBase64:"images/words/elephant.jpg"},{id:-1,categoryId:-1,word:"gallina",imageBase64:"images/words/chicken.jpg"},{id:-1,categoryId:-1,word:"gato",imageBase64:"images/words/cat.jpg"},{id:-1,categoryId:-1,word:"lemur",imageBase64:"images/words/lemur.jpg"},{id:-1,categoryId:-1,word:"oso",imageBase64:"images/words/bear.jpg"},{id:-1,categoryId:-1,word:"panda",imageBase64:"images/words/panda.jpg"},{id:-1,categoryId:-1,word:"periquito",imageBase64:"images/words/parakeet.jpg"},{id:-1,categoryId:-1,word:"perro",imageBase64:"images/words/dog.jpg"},{id:-1,categoryId:-1,word:"tortuga",imageBase64:"images/words/turtle.jpg"},{id:-1,categoryId:-1,word:"vaca",imageBase64:"images/words/cow.jpg"},{id:-1,categoryId:-1,word:"yegua",imageBase64:"images/words/horse-female.jpg"},{id:-1,categoryId:-2,word:"cama",imageBase64:"images/words/bed.jpg"},{id:-1,categoryId:-2,word:"cuento",imageBase64:"images/words/book.jpg"},{id:-1,categoryId:-2,word:"botella",imageBase64:"images/words/bottle.jpg"},{id:-1,categoryId:-2,word:"silla",imageBase64:"images/words/chair.jpg"},{id:-1,categoryId:-2,word:"cuco",imageBase64:"images/words/cuckoo.jpg"},{id:-1,categoryId:-2,word:"taza",imageBase64:"images/words/cup.jpg"},{id:-1,categoryId:-2,word:"puerta",imageBase64:"images/words/door.jpg"},{id:-1,categoryId:-2,word:"biberon",imageBase64:"images/words/feeding-bottle.jpg"},{id:-1,categoryId:-2,word:"tenedor",imageBase64:"images/words/fork.jpg"},{id:-1,categoryId:-2,word:"jardin",imageBase64:"images/words/garden.jpg"},{id:-1,categoryId:-2,word:"vaso",imageBase64:"images/words/glass.jpg"},{id:-1,categoryId:-2,word:"gafas",imageBase64:"images/words/glasses.jpg"},{id:-1,categoryId:-2,word:"guantes",imageBase64:"images/words/gloves.jpg"},{id:-1,categoryId:-2,word:"peine",imageBase64:"images/words/hairbrush.jpg"},{id:-1,categoryId:-2,word:"mano",imageBase64:"images/words/hand.jpg"},{id:-1,categoryId:-2,word:"sombrero",imageBase64:"images/words/hat.jpg"},{id:-1,categoryId:-2,word:"cocina",imageBase64:"images/words/kitchen.jpg"},{id:-1,categoryId:-2,word:"cuchillo",imageBase64:"images/words/knife.jpg"},{id:-1,categoryId:-2,word:"sarten",imageBase64:"images/words/pan.jpg"},{id:-1,categoryId:-2,word:"lapizero",imageBase64:"images/words/pencil.jpg"},{id:-1,categoryId:-2,word:"piano",imageBase64:"images/words/piano.jpg"},{id:-1,categoryId:-2,word:"planta",imageBase64:"images/words/plant.jpg"},{id:-1,categoryId:-2,word:"plato",imageBase64:"images/words/plate.jpg"},{id:-1,categoryId:-2,word:"cazo",imageBase64:"images/words/saucepan.jpg"},{id:-1,categoryId:-2,word:"tijeras",imageBase64:"images/words/scissors.jpg"},{id:-1,categoryId:-2,word:"cucharita",imageBase64:"images/words/small-spoon.jpg"},{id:-1,categoryId:-2,word:"escaleras",imageBase64:"images/words/stairs.jpg"},{id:-1,categoryId:-2,word:"mesa",imageBase64:"images/words/table.jpg"},{id:-1,categoryId:-2,word:"cepillo",imageBase64:"images/words/toothbrush.jpg"},{id:-1,categoryId:-2,word:"pasta",imageBase64:"images/words/toothpaste.jpg"},{id:-1,categoryId:-2,word:"cocinita",imageBase64:"images/words/toy-kitchen.jpg"},{id:-1,categoryId:-2,word:"juguetes",imageBase64:"images/words/toys.jpg"},{id:-1,categoryId:-2,word:"arbol",imageBase64:"images/words/tree.jpg"},{id:-1,categoryId:-2,word:"paraguas",imageBase64:"images/words/umbrella.jpg"},{id:-1,categoryId:-2,word:"ventana",imageBase64:"images/words/window.jpg"},{id:-1,categoryId:-3,word:"brazo",imageBase64:"images/words/arm.jpg"},{id:-1,categoryId:-3,word:"oreja",imageBase64:"images/words/ear.jpg"},{id:-1,categoryId:-3,word:"ojo",imageBase64:"images/words/eye.jpg"},{id:-1,categoryId:-3,word:"pie",imageBase64:"images/words/foot.jpg"},{id:-1,categoryId:-3,word:"mano",imageBase64:"images/words/hand.jpg"},{id:-1,categoryId:-3,word:"piernas",imageBase64:"images/words/legs.jpg"},{id:-1,categoryId:-3,word:"nariz",imageBase64:"images/words/nose.jpg"},{id:-1,categoryId:-3,word:"dientes",imageBase64:"images/words/teeth.jpg"}]},{language:"en|en-GB|en-US",categories:[{id:-1,name:"Animals",imageBase64:"images/animals.webp"}],stages:[{id:-1,categoryId:-1,word:"squirrel",imageBase64:"images/words/squirrel.jpg"}]}];function ot(e,t,n){const s=e.slice();return s[9]=t[n],s}function it(e){let t,n,s,a,o,i,r,c,l,d,u,g,p,m,f,h,$=e[9].name+"";return{c(){t=b("div"),n=b("label"),s=b("div"),a=b("img"),r=B(),c=b("div"),l=b("h5"),d=C($),u=B(),g=b("input"),m=B(),a.src!==(o=e[9].imageBase64)&&I(a,"src",o),I(a,"class","card-img-top"),I(a,"alt",i=e[9].name),I(l,"class","card-title"),I(c,"class","card-body"),I(g,"type","radio"),I(g,"class","visibleButHidden"),g.__value=p=e[9],g.value=g.__value,e[4][0].push(g),I(s,"class","card"),j(n,"cursor","pointer"),I(t,"class","col mb-4")},m(o,i){v(o,t,i),w(t,n),w(n,s),w(s,a),w(s,r),w(s,c),w(c,l),w(l,d),w(s,u),w(s,g),g.checked=g.__value===e[0],w(t,m),f||(h=x(g,"change",e[3]),f=!0)},p(e,t){2&t&&a.src!==(o=e[9].imageBase64)&&I(a,"src",o),2&t&&i!==(i=e[9].name)&&I(a,"alt",i),2&t&&$!==($=e[9].name+"")&&_(d,$),2&t&&p!==(p=e[9])&&(g.__value=p,g.value=g.__value),1&t&&(g.checked=g.__value===e[0])},d(n){n&&y(t),e[4][0].splice(e[4][0].indexOf(g),1),f=!1,h()}}}function rt(e){let n,s=e[1],a=[];for(let t=0;t<s.length;t+=1)a[t]=it(ot(e,s,t));return{c(){n=b("div");for(let e=0;e<a.length;e+=1)a[e].c();I(n,"class","row row-cols-1 row-cols-md-2")},m(e,t){v(e,n,t);for(let e=0;e<a.length;e+=1)a[e].m(n,null)},p(e,[t]){if(3&t){let o;for(s=e[1],o=0;o<s.length;o+=1){const i=ot(e,s,o);a[o]?a[o].p(i,t):(a[o]=it(i),a[o].c(),a[o].m(n,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=s.length}},i:t,o:t,d(e){e&&y(n),$(a,e)}}}function ct(e,t,n){let s,a,o;c(e,Me,e=>n(6,s=e)),c(e,nt,e=>n(7,a=e)),c(e,st,e=>n(8,o=e));let i,r,{stages:l}=t,d=[];return e.$$set=e=>{"stages"in e&&n(2,l=e.stages)},e.$$.update=()=>{64&e.$$.dirty&&n(5,r=at.find(e=>s.language.match(e.language))),160&e.$$.dirty&&r&&n(1,d=[...a,...r.categories]),289&e.$$.dirty&&i&&n(2,l=[...r.stages.filter(e=>e.categoryId===i.id),...o.filter(e=>e.categoryId===i.id)])},[i,d,l,function(){i=this.__value,n(0,i)},[[]]]}class lt extends we{constructor(e){super(),he(this,e,ct,rt,r,{stages:2})}}function dt(e){let n,s,a,o,i,r,c=e[0].texts.veryGood+"";return{c(){n=b("div"),s=b("h1"),a=C(c),o=B(),i=b("img"),I(i,"alt",e[1]),i.src!==(r=e[2])&&I(i,"src",r),I(i,"class","svelte-1bpfq2n"),I(n,"class","winScreen svelte-1bpfq2n")},m(e,t){v(e,n,t),w(n,s),w(s,a),w(n,o),w(n,i)},p(e,[t]){1&t&&c!==(c=e[0].texts.veryGood+"")&&_(a,c)},i:t,o:t,d(e){e&&y(n)}}}function ut(e,t,n){let s;c(e,Re,e=>n(0,s=e));const{alt:a,src:o}=[{alt:"Heart 01",src:"images/rewards/heart01.png"},{alt:"Heart 02",src:"images/rewards/heart02.png"},{alt:"Heart 03",src:"images/rewards/heart03.png"},{alt:"Heart 04",src:"images/rewards/heart04.png"},{alt:"Heart 05",src:"images/rewards/heart05.png"}][Math.floor(5*Math.random())];return[s,a,o]}class gt extends we{constructor(e){super(),he(this,e,ut,dt,r,{})}}function pt(e){let t,n,s,a,i,r,c,l,d,u,g,p,m,f,h,$,k,S,O,E=e[4].texts.repeatLetter+"",j=e[4].texts.backToMenu+"";return i=new Ve({props:{value:e[1][0].word,index:e[2],isMiniLetterActive:e[3].isMiniLetterActive}}),{c(){t=b("div"),n=b("input"),a=B(),ge(i.$$.fragment),r=B(),c=b("div"),l=b("img"),g=B(),p=b("button"),m=C(E),f=B(),h=b("button"),$=C(j),I(n,"class","visibleButHidden"),n.autofocus=!0,I(n,"type","text"),n.value=s=e[3].isMiniLetterActive?"a":"",l.src!==(d=e[1][0].imageBase64)&&I(l,"src",d),I(l,"alt",u=e[1][0].word),I(l,"class","svelte-1ujzv5w"),I(c,"class","image svelte-1ujzv5w"),I(p,"class","btn btn-secondary btn-lg"),I(h,"class","btn btn-primary btn-lg")},m(s,o){v(s,t,o),w(t,n),w(t,a),pe(i,t,null),w(t,r),w(t,c),w(c,l),w(t,g),w(t,p),w(p,m),w(t,f),w(t,h),w(h,$),k=!0,n.focus(),S||(O=[x(n,"input",e[5]),x(n,"blur",vt),x(p,"click",e[6]),x(h,"click",e[7])],S=!0)},p(e,t){(!k||8&t&&s!==(s=e[3].isMiniLetterActive?"a":"")&&n.value!==s)&&(n.value=s);const a={};2&t&&(a.value=e[1][0].word),4&t&&(a.index=e[2]),8&t&&(a.isMiniLetterActive=e[3].isMiniLetterActive),i.$set(a),(!k||2&t&&l.src!==(d=e[1][0].imageBase64))&&I(l,"src",d),(!k||2&t&&u!==(u=e[1][0].word))&&I(l,"alt",u),(!k||16&t)&&E!==(E=e[4].texts.repeatLetter+"")&&_(m,E),(!k||16&t)&&j!==(j=e[4].texts.backToMenu+"")&&_($,j)},i(e){k||(re(i.$$.fragment,e),k=!0)},o(e){ce(i.$$.fragment,e),k=!1},d(e){e&&y(t),me(i),S=!1,o(O)}}}function mt(e){let n,s;return n=new gt({}),{c(){ge(n.$$.fragment)},m(e,t){pe(n,e,t),s=!0},p:t,i(e){s||(re(n.$$.fragment,e),s=!0)},o(e){ce(n.$$.fragment,e),s=!1},d(e){me(n,e)}}}function ft(e){let t,n,s;function a(t){e[8].call(null,t)}let o={};return void 0!==e[1]&&(o.stages=e[1]),t=new lt({props:o}),U.push(()=>ue(t,"stages",a)),{c(){ge(t.$$.fragment)},m(e,n){pe(t,e,n),s=!0},p(e,s){const a={};!n&&2&s&&(n=!0,a.stages=e[1],Y(()=>n=!1)),t.$set(a)},i(e){s||(re(t.$$.fragment,e),s=!0)},o(e){ce(t.$$.fragment,e),s=!1},d(e){me(t,e)}}}function ht(e){let t,n,s,a;const o=[ft,mt,pt],i=[];function r(e,t){return 0===e[1].length?0:e[0]?1:2}return t=r(e),n=i[t]=o[t](e),{c(){n.c(),s=k()},m(e,n){i[t].m(e,n),v(e,s,n),a=!0},p(e,a){let c=t;t=r(e),t===c?i[t].p(e,a):(oe(),ce(i[c],1,1,()=>{i[c]=null}),ie(),n=i[t],n||(n=i[t]=o[t](e),n.c()),re(n,1),n.m(s.parentNode,s))},i(e){a||(re(n),a=!0)},o(e){ce(n),a=!1},d(e){i[t].d(e),e&&y(s)}}}function wt(e){let t,n;return t=new He({props:{$$slots:{default:[ht]},$$scope:{ctx:e}}}),{c(){ge(t.$$.fragment)},m(e,s){pe(t,e,s),n=!0},p(e,[n]){const s={};4127&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){me(t,e)}}}const vt=function(){this.focus()};function yt(e,t,n){let s,a;c(e,Me,e=>n(3,s=e)),c(e,Re,e=>n(4,a=e));let o=!1,i=[],r=0,l=s.language;function d(){const e=i[0].word[r];void 0!==e&&Fe.readOutLoud(`${a.texts.pressLetter} ${e}`)}function u(){Fe.cancelReading(),n(9,l=s.language),n(2,r=0),n(1,i=[])}return e.$$.update=()=>{2&e.$$.dirty&&i.length>0&&function(){const e=i[0].word,t=i[0].word[r];void 0!==e&&void 0!==t&&Fe.readOutLoud(`${a.texts.theWordToWriteIs} ${e}`,`${a.texts.pressLetter} ${t}`)}(),520&e.$$.dirty&&s.language!==l&&u()},[o,i,r,s,a,async function(e){if(!e.data&&!e.data.length)return;const t=e.data[e.data.length-1];if(!t)return;const a=i[0].word;e.srcElement.value=s.isMiniLetterActive?"a":"",s.isConfigurationOpen||t.toLowerCase()===a[r].toLowerCase()&&(n(2,++r)===a.length?(await async function(e){Fe.cancelReading(),n(0,o=!0),await new Promise(t=>setTimeout(()=>{n(0,o=!1),t()},e))}(5e3),n(2,r=0),n(1,i=[...i.splice(1,i.length)]),0===i.length&&u()):d())},d,u,function(e){i=e,n(1,i)}]}class $t extends we{constructor(e){super(),he(this,e,yt,wt,r,{})}}class bt{static convert(e){return new Promise((t,n)=>{const s=document.createElement("canvas"),a=s.getContext("2d"),o=new FileReader;o.onload=e=>{const n=new Image;n.addEventListener("load",()=>{let e=1;n.width>n.height?(e=n.width>500?n.width/500:1,n.height/e>300&&(e=n.height/300)):(e=n.height>300?n.height/300:e,n.width/e>500&&(e=n.width/500));const o=n.width/e,i=n.height/e;let r;s.width=o,s.height=i,a.clearRect(0,0,0,0),bt.drawImageProperly(a,n,0,0,o,i),r=a.getImageData(0,0,o,i);const c=a.globalCompositeOperation;a.globalCompositeOperation="destination-over",a.fillStyle="#ffffff",a.fillRect(0,0,o,i);const l=s.toDataURL("image/jpeg",.2);a.clearRect(0,0,o,i),a.putImageData(r,0,0),a.globalCompositeOperation=c,a.clearRect(0,0,0,0),t(l)}),n.src=e.target.result},o.onerror=e=>n(e),o.readAsDataURL(e)})}static drawImageProperly(e,t,n,s,a,o,i,r){2===arguments.length&&(n=s=0,a=e.canvas.width,o=e.canvas.height),(i="number"==typeof i?i:.5)<0&&(i=0),(r="number"==typeof r?r:.5)<0&&(r=0),i>1&&(i=1),r>1&&(r=1);var c,l,d,u,g=t.width,p=t.height,m=Math.min(a/g,o/p),f=g*m,h=p*m,w=1;f<a&&(w=a/f),Math.abs(w-1)<1e-14&&h<o&&(w=o/h),(c=(g-(d=g/((f*=w)/a)))*i)<0&&(c=0),(l=(p-(u=p/((h*=w)/o)))*r)<0&&(l=0),d>g&&(d=g),u>p&&(u=p),e.drawImage(t,c,l,d,u,n,s,a,o)}}const Ct=new class extends Pe{constructor(){super(),this.DB_NAME="palabras",this.DB_VERSION=1,this.DB_STORE_CATEGORIES="categories",this.DB_STORE_STAGES="stages",this.indexedDB=window.indexedDB,this.request=this.indexedDB.open(this.DB_NAME,this.DB_VERSION),this.request.onsuccess=()=>{this.db=this.request.result,this.dispatchEvent(new CustomEvent("onOpen"))},this.request.onupgradeneeded=e=>{const t=e.currentTarget.result.createObjectStore(this.DB_STORE_CATEGORIES,{keyPath:"id",autoIncrement:!0});t.createIndex("name","name",{unique:!0}),t.createIndex("imageBase64","imageBase64");const n=e.currentTarget.result.createObjectStore(this.DB_STORE_STAGES,{keyPath:"id",autoIncrement:!0});n.createIndex("categoryId","categoryId"),n.createIndex("name","name"),n.createIndex("imageBase64","imageBase64")}}async getCategories(){return new Promise((e,t)=>{const n=this.getObjectStore(this.DB_STORE_CATEGORIES).getAll();n.onsuccess=()=>e(n.result),n.onerror=e=>t(e)})}async addCategory(e,t){return new Promise((n,s)=>{const a=this.getObjectStore(this.DB_STORE_CATEGORIES,"readwrite").add({name:e,imageBase64:t});a.onsuccess=()=>n(a.result),a.onerror=e=>s(e)})}async removeCategory(e){return await this.removeStagesOfCategory(e)?new Promise((t,n)=>{const s=this.getObjectStore(this.DB_STORE_CATEGORIES,"readwrite").delete(e);s.onsuccess=()=>t(!0),s.onerror=e=>n(!1)}):Promise.reject(!1)}async updateCategory(e){return new Promise((t,n)=>{const s=this.getObjectStore(this.DB_STORE_CATEGORIES,"readwrite").put(e);s.onsuccess=()=>t(s.result),s.onerror=e=>n(e)})}async getStages(){return new Promise((e,t)=>{const n=this.getObjectStore(this.DB_STORE_STAGES).getAll();n.onsuccess=()=>e(n.result),n.onerror=e=>t(e)})}async addStage(e,t,n){return new Promise((s,a)=>{const o=this.getObjectStore(this.DB_STORE_STAGES,"readwrite").add({word:e,imageBase64:t,categoryId:n});o.onsuccess=()=>s(o.result),o.onerror=e=>a(e)})}async removeStage(e){return new Promise((t,n)=>{const s=this.getObjectStore(this.DB_STORE_STAGES,"readwrite").delete(e);s.onsuccess=()=>t(!0),s.onerror=e=>n(!1)})}async updateStage(e){return new Promise((t,n)=>{const s=this.getObjectStore(this.DB_STORE_STAGES,"readwrite").put(e);s.onsuccess=()=>t(!0),s.onerror=e=>n(!1)})}async removeStagesOfCategory(e){const t=(await this.getStages()).filter(t=>t.categoryId===e).map(e=>this.removeStage(e.id));return Promise.all(t)}getObjectStore(e,t="readonly"){if(!this.db)throw new Error("IndexedDB not initialized");return this.db.transaction(e,t).objectStore(e)}};async function Bt(e,t){const n=await Ct.addCategory(e,t);return nt.addCategory({id:n,name:e,imageBase64:t}),n}async function kt(e,t,n){const s=await Ct.addStage(e,t,n);return st.addStage({id:s,word:e,imageBase64:t,categoryId:n}),s}function xt(e){let t,n,s;return{c(){t=b("img"),t.src!==(n=e[0].imageBase64)&&I(t,"src",n),I(t,"alt",s=e[0].word),I(t,"class","thumbnail")},m(e,n){v(e,t,n)},p(e,a){1&a&&t.src!==(n=e[0].imageBase64)&&I(t,"src",n),1&a&&s!==(s=e[0].word)&&I(t,"alt",s)},d(e){e&&y(t)}}}function St(e){let t,n,s,a,o,i,r;return{c(){t=b("label"),n=b("img"),a=B(),o=b("input"),n.src!==(s=e[0].imageBase64)&&I(n,"src",s),I(n,"class","thumbnail"),I(o,"class","visibleButHidden"),I(o,"type","file"),I(o,"accept","image/*")},m(s,c){v(s,t,c),w(t,n),w(t,a),w(t,o),i||(r=x(o,"change",e[7]),i=!0)},p(e,t){1&t&&n.src!==(s=e[0].imageBase64)&&I(n,"src",s)},d(e){e&&y(t),i=!1,r()}}}function Ot(e){let n,s,a;return{c(){n=b("span"),n.innerHTML='<i class="far fa-edit"></i>'},m(t,o){v(t,n,o),s||(a=x(n,"click",e[5]),s=!0)},p:t,d(e){e&&y(n),s=!1,a()}}}function It(e){let n,s,a,i,r,c,l;return{c(){n=b("span"),n.innerHTML='<i class="far fa-trash-alt"></i>',s=B(),a=b("span"),a.innerHTML='<i class="fas fa-times"></i>',i=B(),r=b("span"),r.innerHTML='<i class="fas fa-check"></i>',I(a,"class","action"),I(r,"class","action")},m(t,o){v(t,n,o),v(t,s,o),v(t,a,o),v(t,i,o),v(t,r,o),c||(l=[x(n,"click",e[3]),x(a,"click",e[6]),x(r,"click",e[4])],c=!0)},p:t,d(e){e&&y(n),e&&y(s),e&&y(a),e&&y(i),e&&y(r),c=!1,o(l)}}}function _t(e){let n,s,a,o,i,r,c,l,d;function u(e,t){return e[1]?St:xt}let g=u(e),p=g(e);function m(e,t){return e[1]?It:Ot}let f=m(e),h=f(e);return{c(){n=b("li"),p.c(),s=B(),a=b("input"),r=B(),c=b("div"),h.c(),a.readOnly=o=e[1]?"":"readonly",I(a,"class","form-control form-control-lg"),I(a,"type","text"),I(a,"placeholder",i=e[0].word),I(c,"class","cta"),I(n,"class","list-group-item")},m(t,o){v(t,n,o),p.m(n,null),w(n,s),w(n,a),E(a,e[0].word),w(n,r),w(n,c),h.m(c,null),l||(d=x(a,"input",e[8]),l=!0)},p(e,[t]){g===(g=u(e))&&p?p.p(e,t):(p.d(1),p=g(e),p&&(p.c(),p.m(n,s))),2&t&&o!==(o=e[1]?"":"readonly")&&(a.readOnly=o),1&t&&i!==(i=e[0].word)&&I(a,"placeholder",i),1&t&&a.value!==e[0].word&&E(a,e[0].word),f===(f=m(e))&&h?h.p(e,t):(h.d(1),h=f(e),h&&(h.c(),h.m(c,null)))},i:t,o:t,d(e){e&&y(n),p.d(),h.d(),l=!1,d()}}}function Et(e,t,n){let s,a,o,{stage:i}=t,r=!1;return e.$$set=e=>{"stage"in e&&n(0,i=e.stage)},e.$$.update=()=>{4&e.$$.dirty&&async function(){o&&o[0]&&o[0].type.includes("image")&&n(0,i.imageBase64=await bt.convert(o[0]),i)}()},[i,r,o,async function(){await async function(e){return!!await Ct.removeStage(e.id)&&(st.removeStage(e),!0)}(i)},async function(){await async function(e){return!!await Ct.updateStage(e)&&(st.updateStage(e),!0)}(i)&&n(1,r=!1)},function(){s=i.word,a=i.imageBase64,n(1,r=!0)},function(){n(0,i.word=s,i),n(0,i.imageBase64=a,i),n(1,r=!1)},function(){o=this.files,n(2,o)},function(){i.word=this.value,n(0,i),n(2,o)}]}class jt extends we{constructor(e){super(),he(this,e,Et,_t,r,{stage:0})}}function Lt(e,t,n){const s=e.slice();return s[24]=t[n],s[25]=t,s[26]=n,s}function Tt(e){let t,n,s;return{c(){t=b("img"),t.src!==(n=e[0].imageBase64)&&I(t,"src",n),I(t,"alt",s=e[0].name),I(t,"class","thumbnail")},m(e,n){v(e,t,n)},p(e,a){1&a&&t.src!==(n=e[0].imageBase64)&&I(t,"src",n),1&a&&s!==(s=e[0].name)&&I(t,"alt",s)},d(e){e&&y(t)}}}function Mt(e){let t,n,s,a,i,r,c;return{c(){t=b("label"),n=b("img"),a=B(),i=b("input"),n.src!==(s=e[0].imageBase64)&&I(n,"src",s),I(n,"class","thumbnail"),I(i,"class","visibleButHidden"),I(i,"type","file"),I(i,"accept","image/*")},m(s,o){v(s,t,o),w(t,n),w(t,a),w(t,i),r||(c=[x(i,"change",e[15]),x(t,"click",O(e[14]))],r=!0)},p(e,t){1&t&&n.src!==(s=e[0].imageBase64)&&I(n,"src",s)},d(e){e&&y(t),r=!1,o(c)}}}function At(e){let n,s,a;return{c(){n=b("span"),n.innerHTML='<i class="far fa-edit"></i>'},m(t,o){v(t,n,o),s||(a=x(n,"click",O(e[12])),s=!0)},p:t,d(e){e&&y(n),s=!1,a()}}}function Rt(e){let n,s,a,i,r,c,l;return{c(){n=b("span"),n.innerHTML='<i class="far fa-trash-alt"></i>',s=B(),a=b("span"),a.innerHTML='<i class="fas fa-times"></i>',i=B(),r=b("span"),r.innerHTML='<i class="fas fa-check"></i>',I(n,"class","action"),I(a,"class","action"),I(r,"class","action")},m(t,o){v(t,n,o),v(t,s,o),v(t,a,o),v(t,i,o),v(t,r,o),c||(l=[x(n,"click",O(e[9])),x(a,"click",O(e[13])),x(r,"click",O(e[10]))],c=!0)},p:t,d(e){e&&y(n),e&&y(s),e&&y(a),e&&y(i),e&&y(r),c=!1,o(l)}}}function Nt(e){let t,n,s;function a(t){e[20].call(null,t,e[24],e[25],e[26])}let o={};return void 0!==e[24]&&(o.stage=e[24]),t=new jt({props:o}),U.push(()=>ue(t,"stage",a)),{c(){ge(t.$$.fragment)},m(e,n){pe(t,e,n),s=!0},p(s,a){e=s;const o={};!n&&2&a&&(n=!0,o.stage=e[24],Y(()=>n=!1)),t.$set(o)},i(e){s||(re(t.$$.fragment,e),s=!0)},o(e){ce(t.$$.fragment,e),s=!1},d(e){me(t,e)}}}function Pt(e){let t,n,s,a,i,r,c,l,d,u,g,p,m,f,h,C,k,S,O,_,j,L,M,A,R,N,P,F,G,D,H;function z(e,t){return e[6]?Mt:Tt}let U=z(e),q=U(e);function W(e,t){return e[6]?Rt:At}let V=W(e),K=V(e),J=e[1],Y=[];for(let t=0;t<J.length;t+=1)Y[t]=Nt(Lt(e,J,t));const Q=e=>ce(Y[e],1,1,()=>{Y[e]=null});return{c(){t=b("div"),n=b("h5"),q.c(),s=B(),a=b("input"),c=B(),l=b("div"),K.c(),p=B(),m=b("ul"),f=b("li"),h=b("label"),C=b("img"),S=B(),O=b("input"),_=B(),j=b("input"),M=B(),A=b("div"),R=b("span"),R.innerHTML='<i class="fas fa-check"></i>',N=B();for(let e=0;e<Y.length;e+=1)Y[e].c();a.autofocus=i=e[6]?"autofocus":"",a.readOnly=r=e[6]?"":"readonly",I(a,"class","form-control form-control-lg svelte-1tp6b1d"),I(a,"type","text"),I(l,"class","cta"),I(n,"id",d="category-card-"+e[0].id),I(n,"class","card-header card-title svelte-1tp6b1d"),I(n,"data-toggle","collapse"),I(n,"data-target",u="#collapse-"+e[0].id),I(n,"aria-controls",g="collapse-"+e[0].id),C.src!==(k=e[3]?e[3]:"/images/upload-image.svg")&&I(C,"src",k),I(C,"class","thumbnail"),I(O,"class","visibleButHidden"),I(O,"type","file"),I(O,"accept","image/*"),I(j,"class","form-control form-control-lg svelte-1tp6b1d"),I(j,"type","text"),I(j,"placeholder",L=e[8].texts.newStage),T(j,"is-invalid",e[7]),I(A,"class","cta"),I(f,"class","list-group-item"),I(m,"id",P="collapse-"+e[0].id),I(m,"class","collapse list-group list-group-flush"),I(m,"aria-labelledby",F="category-card-"+e[0].id),I(m,"data-parent","#categoriesAccordion"),I(t,"class","card")},m(o,i){v(o,t,i),w(t,n),q.m(n,null),w(n,s),w(n,a),E(a,e[0].name),w(n,c),w(n,l),K.m(l,null),w(t,p),w(t,m),w(m,f),w(f,h),w(h,C),w(h,S),w(h,O),w(f,_),w(f,j),E(j,e[2]),w(f,M),w(f,A),w(A,R),w(m,N);for(let e=0;e<Y.length;e+=1)Y[e].m(m,null);G=!0,D||(H=[x(a,"click",e[16]),x(a,"input",e[17]),x(O,"change",e[18]),x(j,"input",e[19]),x(R,"click",e[11])],D=!0)},p(e,[t]){if(U===(U=z(e))&&q?q.p(e,t):(q.d(1),q=U(e),q&&(q.c(),q.m(n,s))),(!G||64&t&&i!==(i=e[6]?"autofocus":""))&&(a.autofocus=i),(!G||64&t&&r!==(r=e[6]?"":"readonly"))&&(a.readOnly=r),1&t&&a.value!==e[0].name&&E(a,e[0].name),V===(V=W(e))&&K?K.p(e,t):(K.d(1),K=V(e),K&&(K.c(),K.m(l,null))),(!G||1&t&&d!==(d="category-card-"+e[0].id))&&I(n,"id",d),(!G||1&t&&u!==(u="#collapse-"+e[0].id))&&I(n,"data-target",u),(!G||1&t&&g!==(g="collapse-"+e[0].id))&&I(n,"aria-controls",g),(!G||8&t&&C.src!==(k=e[3]?e[3]:"/images/upload-image.svg"))&&I(C,"src",k),(!G||256&t&&L!==(L=e[8].texts.newStage))&&I(j,"placeholder",L),4&t&&j.value!==e[2]&&E(j,e[2]),128&t&&T(j,"is-invalid",e[7]),2&t){let n;for(J=e[1],n=0;n<J.length;n+=1){const s=Lt(e,J,n);Y[n]?(Y[n].p(s,t),re(Y[n],1)):(Y[n]=Nt(s),Y[n].c(),re(Y[n],1),Y[n].m(m,null))}for(oe(),n=J.length;n<Y.length;n+=1)Q(n);ie()}(!G||1&t&&P!==(P="collapse-"+e[0].id))&&I(m,"id",P),(!G||1&t&&F!==(F="category-card-"+e[0].id))&&I(m,"aria-labelledby",F)},i(e){if(!G){for(let e=0;e<J.length;e+=1)re(Y[e]);G=!0}},o(e){Y=Y.filter(Boolean);for(let e=0;e<Y.length;e+=1)ce(Y[e]);G=!1},d(e){e&&y(t),q.d(),K.d(),$(Y,e),D=!1,o(H)}}}function Ft(e,t,n){let s,a;c(e,st,e=>n(23,s=e)),c(e,Re,e=>n(8,a=e));let o,i,r,l,d,u,g,{category:p}=t,m=!1,f=!1;return e.$$set=e=>{"category"in e&&n(0,p=e.category)},e.$$.update=()=>{32&e.$$.dirty&&async function(){d&&d[0]&&d[0].type.includes("image")&&n(0,p.imageBase64=await bt.convert(d[0]),p)}(),8388609&e.$$.dirty&&n(1,o=s.filter(e=>e.categoryId===p.id)),16&e.$$.dirty&&async function(){l&&l[0]&&l[0].type.includes("image")&&n(3,r=await bt.convert(l[0]))}()},[p,o,i,r,l,d,m,f,a,async function(){await async function(e){return!!await Ct.removeCategory(e.id)&&(st.removeStagesOfCategory(e.id),nt.removeCategory(e),!0)}(p)},async function(){await async function(e){return!!await Ct.updateCategory(e)&&(nt.updateCategory(e),!0)}(p)&&n(6,m=!1)},async function(){void 0!==i&&""!==i&&r?await kt(i,r,p.id)&&(n(2,i=""),n(4,l=void 0),n(3,r=void 0),n(7,f=!1)):n(7,f=!0)},function(){u=p.name,g=p.imageBase64,n(6,m=!0)},function(){n(0,p.name=u,p),n(0,p.imageBase64=g,p),n(6,m=!1)},function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)},function(){d=this.files,n(5,d)},e=>m?e.stopPropagation():"",function(){p.name=this.value,n(0,p),n(5,d)},function(){l=this.files,n(4,l)},function(){i=this.value,n(2,i)},function(e,t,a,i){a[i]=e,n(1,o),n(23,s),n(0,p),n(5,d)}]}class Gt extends we{constructor(e){super(),he(this,e,Ft,Pt,r,{category:0})}}function Dt(e,t,n){const s=e.slice();return s[2]=t[n],s[3]=t,s[4]=n,s}function Ht(e){let t,n,s;function a(t){e[1].call(null,t,e[2],e[3],e[4])}let o={};return void 0!==e[2]&&(o.category=e[2]),t=new Gt({props:o}),U.push(()=>ue(t,"category",a)),{c(){ge(t.$$.fragment)},m(e,n){pe(t,e,n),s=!0},p(s,a){e=s;const o={};!n&&1&a&&(n=!0,o.category=e[2],Y(()=>n=!1)),t.$set(o)},i(e){s||(re(t.$$.fragment,e),s=!0)},o(e){ce(t.$$.fragment,e),s=!1},d(e){me(t,e)}}}function zt(e){let t,n,s=e[0],a=[];for(let t=0;t<s.length;t+=1)a[t]=Ht(Dt(e,s,t));const o=e=>ce(a[e],1,1,()=>{a[e]=null});return{c(){t=b("div");for(let e=0;e<a.length;e+=1)a[e].c();I(t,"class","accordion"),I(t,"id","categoriesAccordion")},m(e,s){v(e,t,s);for(let e=0;e<a.length;e+=1)a[e].m(t,null);n=!0},p(e,[n]){if(1&n){let i;for(s=e[0],i=0;i<s.length;i+=1){const o=Dt(e,s,i);a[i]?(a[i].p(o,n),re(a[i],1)):(a[i]=Ht(o),a[i].c(),re(a[i],1),a[i].m(t,null))}for(oe(),i=s.length;i<a.length;i+=1)o(i);ie()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)re(a[e]);n=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)ce(a[e]);n=!1},d(e){e&&y(t),$(a,e)}}}function Ut(e,t,n){let s;return c(e,nt,e=>n(0,s=e)),[s,function(e,t,n,a){n[a]=e,nt.set(s)}]}class qt extends we{constructor(e){super(),he(this,e,Ut,zt,r,{})}}function Wt(e){const t=e-1;return t*t*t+1}function Vt(e,{delay:t=0,duration:n=400,easing:s=Wt,x:a=0,y:o=0,opacity:i=0}){const r=getComputedStyle(e),c=+r.opacity,l="none"===r.transform?"":r.transform,d=c*(1-i);return{delay:t,duration:n,easing:s,css:(e,t)=>`\n\t\t\ttransform: ${l} translate(${(1-e)*a}px, ${(1-e)*o}px);\n\t\t\topacity: ${c-d*t}`}}function Kt(e){let t,n,s,a,i,r,c,l,d,u,g,p,m,f,h,$,k,O,E,j,L=e[2].texts.game+"",M=e[2].texts.myCategories+"",A=e[2].texts.settings+"";return{c(){t=b("div"),n=b("div"),s=b("ul"),a=b("li"),i=b("span"),r=C(L),c=B(),l=b("li"),d=b("span"),u=C(M),g=B(),p=b("li"),m=b("span"),f=C(A),$=B(),k=b("div"),I(i,"class","nav-link"),I(a,"class","nav-item svelte-1vkpcbr"),T(a,"active",!e[1].isConfigurationOpen&&!e[1].isCustomCategoriesOpen),I(d,"class","nav-link"),I(l,"class","nav-item svelte-1vkpcbr"),T(l,"active",e[1].isCustomCategoriesOpen),I(m,"class","nav-link"),I(p,"class","nav-item svelte-1vkpcbr"),T(p,"active",e[1].isConfigurationOpen),I(s,"class","navbar-nav"),I(n,"class","navbarNav svelte-1vkpcbr"),I(k,"class","overlay svelte-1vkpcbr"),I(t,"class","sidebar svelte-1vkpcbr")},m(o,h){v(o,t,h),w(t,n),w(n,s),w(s,a),w(a,i),w(i,r),w(s,c),w(s,l),w(l,d),w(d,u),w(s,g),w(s,p),w(p,m),w(m,f),w(t,$),w(t,k),O=!0,E||(j=[x(i,"click",S(e[3])),x(d,"click",S(e[4])),x(m,"click",S(e[5])),x(k,"click",e[6])],E=!0)},p(e,t){(!O||4&t)&&L!==(L=e[2].texts.game+"")&&_(r,L),2&t&&T(a,"active",!e[1].isConfigurationOpen&&!e[1].isCustomCategoriesOpen),(!O||4&t)&&M!==(M=e[2].texts.myCategories+"")&&_(u,M),2&t&&T(l,"active",e[1].isCustomCategoriesOpen),(!O||4&t)&&A!==(A=e[2].texts.settings+"")&&_(f,A),2&t&&T(p,"active",e[1].isConfigurationOpen)},i(e){O||(J(()=>{h||(h=de(n,Vt,{x:-50,duration:250},!0)),h.run(1)}),O=!0)},o(e){h||(h=de(n,Vt,{x:-50,duration:250},!1)),h.run(0),O=!1},d(e){e&&y(t),e&&h&&h.end(),E=!1,o(j)}}}function Jt(e){let t,n,s,a,o,i,r,c;const d=e[8].default,g=l(d,e,e[7],null);let p=e[0]&&Kt(e);return{c(){t=b("nav"),n=b("button"),n.innerHTML='<span class="navbar-toggler-icon"></span>',s=B(),g&&g.c(),a=B(),p&&p.c(),o=k(),I(n,"class","navbar-toggler"),I(t,"class","navbar navbar-dark bg-primary")},m(l,d){v(l,t,d),w(t,n),w(t,s),g&&g.m(t,null),v(l,a,d),p&&p.m(l,d),v(l,o,d),i=!0,r||(c=x(n,"click",S(e[6])),r=!0)},p(e,[t]){g&&g.p&&128&t&&u(g,d,e,e[7],t,null,null),e[0]?p?(p.p(e,t),1&t&&re(p,1)):(p=Kt(e),p.c(),re(p,1),p.m(o.parentNode,o)):p&&(oe(),ce(p,1,1,()=>{p=null}),ie())},i(e){i||(re(g,e),re(p),i=!0)},o(e){ce(g,e),ce(p),i=!1},d(e){e&&y(t),g&&g.d(e),e&&y(a),p&&p.d(e),e&&y(o),r=!1,c()}}}function Yt(e,t,n){let s,a;c(e,Me,e=>n(1,s=e)),c(e,Re,e=>n(2,a=e));let{isSidebarOpen:o=!1}=t;function i(){n(0,o=!o)}let{$$slots:r={},$$scope:l}=t;return e.$$set=e=>{"isSidebarOpen"in e&&n(0,o=e.isSidebarOpen),"$$scope"in e&&n(7,l=e.$$scope)},[o,s,a,function(){Me.closeConfigurationAndCustomCategories(),i()},function(){Me.openCustomCategories(),i()},function(){Me.openConfiguration(),i()},i,l,r]}class Qt extends we{constructor(e){super(),he(this,e,Yt,Jt,r,{isSidebarOpen:0})}}function Xt(e){let n,s,a,i,r,c,l,d,u,g,p,m,f,h,$,k,S;return{c(){n=b("div"),s=b("i"),a=B(),i=b("div"),r=b("div"),r.textContent="New",c=B(),l=b("div"),d=B(),u=b("div"),u.textContent="Export",g=B(),p=b("div"),m=B(),f=b("label"),h=C("Import\n            "),$=b("input"),I(s,"class","fas fa-ellipsis-v svelte-3kvgj6"),I(s,"id","customCategoriesMenuButton"),I(s,"data-toggle","dropdown"),I(s,"aria-haspopup","true"),I(s,"aria-expanded","false"),I(r,"class","dropdown-item"),I(l,"class","dropdown-divider"),I(u,"class","dropdown-item"),I(p,"class","dropdown-divider"),I($,"class","visibleButHidden"),I($,"type","file"),I($,"accept","application/json"),I(f,"class","dropdown-item"),I(i,"class","dropdown-menu svelte-3kvgj6"),I(i,"aria-labelledby","customCategoriesMenuButton"),I(n,"class","dropleft")},m(t,o){v(t,n,o),w(n,s),w(n,a),w(n,i),w(i,r),w(i,c),w(i,l),w(i,d),w(i,u),w(i,g),w(i,p),w(i,m),w(i,f),w(f,h),w(f,$),k||(S=[x(r,"click",e[3]),x(u,"click",e[2]),x($,"change",e[4])],k=!0)},p:t,i:t,o:t,d(e){e&&y(n),k=!1,o(S)}}}function Zt(e,t,n){let s,a;c(e,nt,e=>n(5,s=e)),c(e,st,e=>n(6,a=e));let o,{showCreateNewCategoryModalForm:i}=t;return e.$$set=e=>{"showCreateNewCategoryModalForm"in e&&n(0,i=e.showCreateNewCategoryModalForm)},e.$$.update=()=>{2&e.$$.dirty&&async function(){if(o&&o[0]&&o[0].type.includes("json"))try{const e=await class{static deserialize(e){return new Promise((t,n)=>{const s=new FileReader;s.onload=e=>{t(e.target.result)},s.onerror=e=>n(e),s.readAsText(e)})}}.deserialize(o[0]),{categories:t,stages:n}=JSON.parse(e),s=t.map(async({id:e,name:t,imageBase64:n})=>({id:e,newId:await Bt(t,n)})),a=await Promise.all([...s]),i=[];a.forEach(({id:e,newId:t})=>n.forEach(({categoryId:n,word:s,imageBase64:a})=>e===n&&i.push(kt(s,a,t)))),await Promise.all(i)}catch(e){console.log(e)}}()},[i,o,function(){const e=document.createElement("a");e.setAttribute("href","data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({categories:s,stages:a}))),e.setAttribute("download","backup.json"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},()=>n(0,i=!0),function(){o=this.files,n(1,o)}]}class en extends we{constructor(e){super(),he(this,e,Zt,Xt,r,{showCreateNewCategoryModalForm:0})}}const tn=e=>({}),nn=e=>({}),sn=e=>({}),an=e=>({class:"modal-title"});function on(e){let t,n,s,a,i,r,c,d,g,p,m,f,h,$,k,S,O=e[1].texts.close+"";const E=e[5].header,j=l(E,e,e[4],an),L=e[5].default,T=l(L,e,e[4],null),M=e[5].cta,A=l(M,e,e[4],nn);return{c(){t=b("div"),n=B(),s=b("div"),a=b("div"),j&&j.c(),i=B(),r=b("button"),r.innerHTML='<span aria-hidden="true">×</span>',c=B(),d=b("div"),T&&T.c(),g=B(),p=b("div"),m=b("button"),f=C(O),h=B(),A&&A.c(),I(t,"class","modal-background svelte-18blkul"),I(r,"type","button"),I(r,"class","close"),I(a,"class","modal-header"),I(d,"class","modal-body"),I(m,"type","button"),I(m,"class","btn btn-secondary"),I(p,"class","modal-footer"),I(s,"class","modal svelte-18blkul"),I(s,"role","dialog"),I(s,"aria-modal","true")},m(o,l){v(o,t,l),v(o,n,l),v(o,s,l),w(s,a),j&&j.m(a,null),w(a,i),w(a,r),w(s,c),w(s,d),T&&T.m(d,null),w(s,g),w(s,p),w(p,m),w(m,f),w(p,h),A&&A.m(p,null),e[6](s),$=!0,k||(S=[x(window,"keydown",e[3]),x(t,"click",e[2]),x(r,"click",e[2]),x(m,"click",e[2])],k=!0)},p(e,[t]){j&&j.p&&16&t&&u(j,E,e,e[4],t,sn,an),T&&T.p&&16&t&&u(T,L,e,e[4],t,null,null),(!$||2&t)&&O!==(O=e[1].texts.close+"")&&_(f,O),A&&A.p&&16&t&&u(A,M,e,e[4],t,tn,nn)},i(e){$||(re(j,e),re(T,e),re(A,e),$=!0)},o(e){ce(j,e),ce(T,e),ce(A,e),$=!1},d(a){a&&y(t),a&&y(n),a&&y(s),j&&j.d(a),T&&T.d(a),A&&A.d(a),e[6](null),k=!1,o(S)}}}function rn(e,t,n){let s;c(e,Re,e=>n(1,s=e));const a=H(),o=()=>a("close");let i;const r="undefined"!=typeof document&&document.activeElement;var l;r&&(l=()=>{r.focus()},D().$$.on_destroy.push(l));let{$$slots:d={},$$scope:u}=t;return e.$$set=e=>{"$$scope"in e&&n(4,u=e.$$scope)},[i,s,o,e=>{if("Escape"!==e.key){if("Tab"===e.key){const t=i.querySelectorAll("*"),n=Array.from(t).filter(e=>e.tabIndex>=0);let s=n.indexOf(document.activeElement);-1===s&&e.shiftKey&&(s=0),s+=n.length+(e.shiftKey?-1:1),s%=n.length,n[s].focus(),e.preventDefault()}}else o()},u,d,function(e){U[e?"unshift":"push"](()=>{i=e,n(0,i)})}]}class cn extends we{constructor(e){super(),he(this,e,rn,on,r,{})}}function ln(e){let t,n,s=e[4].texts.newCategory+"";return{c(){t=b("h5"),n=C(s),I(t,"slot","header")},m(e,s){v(e,t,s),w(t,n)},p(e,t){16&t&&s!==(s=e[4].texts.newCategory+"")&&_(n,s)},d(e){e&&y(t)}}}function dn(e){let t,n,s,a,o=e[4].texts.uploadPhotoInfo+"";return{c(){t=b("span"),t.innerHTML='<i class="fas fa-arrow-up svelte-fbvgzv"></i> \n                <i class="fas fa-camera svelte-fbvgzv"></i>',n=B(),s=b("span"),a=C(o),j(t,"position","relative"),I(s,"class","upload-text svelte-fbvgzv")},m(e,o){v(e,t,o),v(e,n,o),v(e,s,o),w(s,a)},p(e,t){16&t&&o!==(o=e[4].texts.uploadPhotoInfo+"")&&_(a,o)},d(e){e&&y(t),e&&y(n),e&&y(s)}}}function un(e){let t,n;return{c(){t=b("img"),t.src!==(n=e[1])&&I(t,"src",n),I(t,"class","thumbnail")},m(e,n){v(e,t,n)},p(e,s){2&s&&t.src!==(n=e[1])&&I(t,"src",n)},d(e){e&&y(t)}}}function gn(e){let t,n,s,a,o,i=e[4].texts.create+"";return{c(){t=b("div"),n=b("button"),s=C(i),I(n,"type","button"),I(n,"class","btn btn-primary"),I(t,"slot","cta")},m(i,r){v(i,t,r),w(t,n),w(n,s),a||(o=x(n,"click",e[5]),a=!0)},p(e,t){16&t&&i!==(i=e[4].texts.create+"")&&_(s,i)},d(e){e&&y(t),a=!1,o()}}}function pn(e){let t,n,s,a,i,r,c,l,d,u;function g(e,t){return e[1]?un:dn}let p=g(e),m=p(e);return{c(){t=B(),n=b("label"),m.c(),s=B(),a=b("input"),i=B(),r=b("input"),l=B(),I(a,"class","visibleButHidden"),I(a,"type","file"),I(a,"accept","image/*"),I(n,"class","svelte-fbvgzv"),I(r,"placeholder",c=e[4].texts.name),I(r,"type","text"),I(r,"class","form-control form-control-lg"),T(r,"is-invalid",e[2])},m(o,c){v(o,t,c),v(o,n,c),m.m(n,null),w(n,s),w(n,a),v(o,i,c),v(o,r,c),E(r,e[0]),v(o,l,c),d||(u=[x(a,"change",e[7]),x(r,"input",e[8])],d=!0)},p(e,t){p===(p=g(e))&&m?m.p(e,t):(m.d(1),m=p(e),m&&(m.c(),m.m(n,s))),16&t&&c!==(c=e[4].texts.name)&&I(r,"placeholder",c),1&t&&r.value!==e[0]&&E(r,e[0]),4&t&&T(r,"is-invalid",e[2])},d(e){e&&y(t),e&&y(n),m.d(),e&&y(i),e&&y(r),e&&y(l),d=!1,o(u)}}}function mn(e){let t,n;return t=new cn({props:{$$slots:{default:[pn],cta:[gn],header:[ln]},$$scope:{ctx:e}}}),t.$on("close",e[6]),{c(){ge(t.$$.fragment)},m(e,s){pe(t,e,s),n=!0},p(e,[n]){const s={};2079&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){me(t,e)}}}function fn(e,t,n){let s,a,o;c(e,Re,e=>n(4,s=e));let i,r=!1;const l=H();return e.$$.update=()=>{8&e.$$.dirty&&async function(){i&&i[0]&&i[0].type.includes("image")&&n(1,o=await bt.convert(i[0]))}()},[a,o,r,i,s,async function(){void 0!==a&&""!==a?(n(2,r=!1),o&&(await Bt(a,o),n(0,a=""),n(3,i=void 0),n(1,o=void 0))):n(2,r=!0)},()=>l("close"),function(){i=this.files,n(3,i)},function(){a=this.value,n(0,a)}]}class hn extends we{constructor(e){super(),he(this,e,fn,mn,r,{})}}function wn(e){let n,s,a,o,i=e[5].texts.start+"";return{c(){n=b("button"),s=C(i),I(n,"class","btn btn-primary btn-lg btn-block")},m(t,i){v(t,n,i),w(n,s),a||(o=x(n,"click",e[6]),a=!0)},p(e,t){32&t&&i!==(i=e[5].texts.start+"")&&_(s,i)},i:t,o:t,d(e){e&&y(n),a=!1,o()}}}function vn(e){let t,n,s,a;const o=[$n,yn],i=[];function r(e,t){return e[0].length>0?0:1}return t=r(e),n=i[t]=o[t](e),{c(){n.c(),s=k()},m(e,n){i[t].m(e,n),v(e,s,n),a=!0},p(e,a){let c=t;t=r(e),t===c?i[t].p(e,a):(oe(),ce(i[c],1,1,()=>{i[c]=null}),ie(),n=i[t],n||(n=i[t]=o[t](e),n.c()),re(n,1),n.m(s.parentNode,s))},i(e){a||(re(n),a=!0)},o(e){ce(n),a=!1},d(e){i[t].d(e),e&&y(s)}}}function yn(e){let n;return{c(){n=b("div"),n.textContent="Install speech synthesis voices"},m(e,t){v(e,n,t)},p:t,i:t,o:t,d(e){e&&y(n)}}}function $n(e){let t,n,s,a,o,i,r,c;function l(t){e[8].call(null,t)}let d={$$slots:{default:[Cn]},$$scope:{ctx:e}};void 0!==e[2]&&(d.isSidebarOpen=e[2]),t=new Qt({props:d}),U.push(()=>ue(t,"isSidebarOpen",l));let u=e[3]&&Bn(e),g=!e[4].isCustomCategoriesOpen&&kn(e),p=e[4].isConfigurationOpen&&xn(e),m=e[4].isCustomCategoriesOpen&&Sn();return{c(){ge(t.$$.fragment),s=B(),u&&u.c(),a=B(),g&&g.c(),o=B(),p&&p.c(),i=B(),m&&m.c(),r=k()},m(e,n){pe(t,e,n),v(e,s,n),u&&u.m(e,n),v(e,a,n),g&&g.m(e,n),v(e,o,n),p&&p.m(e,n),v(e,i,n),m&&m.m(e,n),v(e,r,n),c=!0},p(e,s){const c={};1048&s&&(c.$$scope={dirty:s,ctx:e}),!n&&4&s&&(n=!0,c.isSidebarOpen=e[2],Y(()=>n=!1)),t.$set(c),e[3]?u?(u.p(e,s),8&s&&re(u,1)):(u=Bn(e),u.c(),re(u,1),u.m(a.parentNode,a)):u&&(oe(),ce(u,1,1,()=>{u=null}),ie()),e[4].isCustomCategoriesOpen?g&&(oe(),ce(g,1,1,()=>{g=null}),ie()):g?(g.p(e,s),16&s&&re(g,1)):(g=kn(e),g.c(),re(g,1),g.m(o.parentNode,o)),e[4].isConfigurationOpen?p?(p.p(e,s),16&s&&re(p,1)):(p=xn(e),p.c(),re(p,1),p.m(i.parentNode,i)):p&&(oe(),ce(p,1,1,()=>{p=null}),ie()),e[4].isCustomCategoriesOpen?m?16&s&&re(m,1):(m=Sn(),m.c(),re(m,1),m.m(r.parentNode,r)):m&&(oe(),ce(m,1,1,()=>{m=null}),ie())},i(e){c||(re(t.$$.fragment,e),re(u),re(g),re(p),re(m),c=!0)},o(e){ce(t.$$.fragment,e),ce(u),ce(g),ce(p),ce(m),c=!1},d(e){me(t,e),e&&y(s),u&&u.d(e),e&&y(a),g&&g.d(e),e&&y(o),p&&p.d(e),e&&y(i),m&&m.d(e),e&&y(r)}}}function bn(e){let t,n,s;function a(t){e[7].call(null,t)}let o={};return void 0!==e[3]&&(o.showCreateNewCategoryModalForm=e[3]),t=new en({props:o}),U.push(()=>ue(t,"showCreateNewCategoryModalForm",a)),{c(){ge(t.$$.fragment)},m(e,n){pe(t,e,n),s=!0},p(e,s){const a={};!n&&8&s&&(n=!0,a.showCreateNewCategoryModalForm=e[3],Y(()=>n=!1)),t.$set(a)},i(e){s||(re(t.$$.fragment,e),s=!0)},o(e){ce(t.$$.fragment,e),s=!1},d(e){me(t,e)}}}function Cn(e){let t,n,s=e[4].isCustomCategoriesOpen&&bn(e);return{c(){s&&s.c(),t=k()},m(e,a){s&&s.m(e,a),v(e,t,a),n=!0},p(e,n){e[4].isCustomCategoriesOpen?s?(s.p(e,n),16&n&&re(s,1)):(s=bn(e),s.c(),re(s,1),s.m(t.parentNode,t)):s&&(oe(),ce(s,1,1,()=>{s=null}),ie())},i(e){n||(re(s),n=!0)},o(e){ce(s),n=!1},d(e){s&&s.d(e),e&&y(t)}}}function Bn(e){let n,s;return n=new hn({}),n.$on("close",e[9]),{c(){ge(n.$$.fragment)},m(e,t){pe(n,e,t),s=!0},p:t,i(e){s||(re(n.$$.fragment,e),s=!0)},o(e){ce(n.$$.fragment,e),s=!1},d(e){me(n,e)}}}function kn(e){let t,n,s;return n=new $t({}),{c(){t=b("div"),ge(n.$$.fragment),T(t,"visibleButHidden",e[4].isConfigurationOpen)},m(e,a){v(e,t,a),pe(n,t,null),s=!0},p(e,n){16&n&&T(t,"visibleButHidden",e[4].isConfigurationOpen)},i(e){s||(re(n.$$.fragment,e),s=!0)},o(e){ce(n.$$.fragment,e),s=!1},d(e){e&&y(t),me(n)}}}function xn(e){let t,n;return t=new tt({props:{voices:e[0]}}),{c(){ge(t.$$.fragment)},m(e,s){pe(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.voices=e[0]),t.$set(s)},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){me(t,e)}}}function Sn(e){let t,n;return t=new qt({}),{c(){ge(t.$$.fragment)},m(e,s){pe(t,e,s),n=!0},i(e){n||(re(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){me(t,e)}}}function On(e){let n,s,a,o,r,c,l,d,u;document.title=n=e[5].texts.appName;const g=[vn,wn],p=[];function m(e,t){return e[0]?0:1}return o=m(e),r=p[o]=g[o](e),{c(){s=B(),a=b("main"),r.c(),I(a,"class","container-xl svelte-4di22r"),T(a,"isSidebarOpen",e[2])},m(n,r){var g;v(n,s,r),v(n,a,r),p[o].m(a,null),l=!0,d||(g=c=Ne.call(null,a,e[1]),u=g&&i(g.destroy)?g.destroy:t,d=!0)},p(e,[t]){(!l||32&t)&&n!==(n=e[5].texts.appName)&&(document.title=n);let s=o;o=m(e),o===s?p[o].p(e,t):(oe(),ce(p[s],1,1,()=>{p[s]=null}),ie(),r=p[o],r||(r=p[o]=g[o](e),r.c()),re(r,1),r.m(a,null)),c&&i(c.update)&&2&t&&c.update.call(null,e[1]),4&t&&T(a,"isSidebarOpen",e[2])},i(e){l||(re(r),l=!0)},o(e){ce(r),l=!1},d(e){e&&y(s),e&&y(a),p[o].d(),d=!1,u()}}}function In(e,t,n){let s,a,o,i;c(e,Me,e=>n(4,s=e)),c(e,Re,e=>n(5,a=e));let r=!1,l=!1;Fe.addEventListener("onLoad",(e,t)=>{Fe.setVoice(s.language),n(0,o=t)});return e.$$.update=()=>{16&e.$$.dirty&&Fe.setVoice(s.language),16&e.$$.dirty&&n(1,i=class{static build(e){switch(e){case be.GREEN:return new Se;case be.PINK:return new Be;case be.BLUE:return new xe;case be.RED:return new _e;case be.PURPLE:return new ke;case be.YELLOW:return new Oe;case be.ORANGE:return new Ie;case be.BROWN:return new Ee;default:return new Be}}}.build(s.colorThemeType))},[o,i,r,l,s,a,function(){Fe.readOutLoud(a.texts.letsStart),n(0,o=[])},function(e){l=e,n(3,l)},function(e){r=e,n(2,r)},()=>n(3,l=!1)]}const _n=new class extends we{constructor(e){super(),he(this,e,In,On,r,{})}}({target:document.body,props:{}});return Me.subscribe(e=>Te.writeConfiguration(e)),Ct.addEventListener("onOpen",async()=>{nt.addCategories(await Ct.getCategories()),st.addStages(await Ct.getStages())}),e.app=_n,e}({});
//# sourceMappingURL=bundle.js.map
